{"version":3,"sources":["theme/theme.ts","redux/users/selectors.ts","firebase.ts","redux/users/Action.ts","template/apiEndpoint.ts","template/niceAvatar.ts","hooks/useMessage.ts","components/organisms/layout/Sidebar.tsx","redux/users/Operations.ts","components/templates/SidebarLayout.tsx","components/pages/Page404.tsx","redux/search/Action.ts","redux/boolean/Action.ts","redux/search/Operations.ts","redux/boolean/Operations.ts","components/molecules/searchInput.tsx","components/molecules/searchCondition.tsx","components/organisms/search/condition.tsx","components/organisms/search/resultData.tsx","components/organisms/search/defautView.tsx","redux/search/selectors.ts","components/organisms/search/result.tsx","redux/boolean/selectors.ts","components/pages/searchPaper.tsx","components/atoms/divideLineSocialButton.tsx","components/atoms/googleButton.tsx","components/atoms/twitterButton.tsx","components/organisms/user/loginInput.tsx","components/pages/UserLogin.tsx","components/organisms/user/registrationInput.tsx","components/pages/UserRegistration.tsx","components/organisms/user/pickedPaper.tsx","components/pages/UserShow.tsx","components/templates/Title.tsx","components/router/Router.tsx","App.tsx","redux/store/InitialState.ts","redux/users/Reducers.ts","redux/search/Reducers.ts","redux/boolean/Reducers.ts","index.tsx","redux/store/Store.ts"],"names":["theme","extendTheme","styles","global","body","color","usersSelector","state","users","getUserName","createSelector","username","getUserState","isSignedIn","getAvatar","avatar","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","SIGN_UP","signUpAction","userState","type","payload","id","email","SIGN_OUT","API_ENDPOINT","avatarConfig","useMessage","toast","useToast","showMessage","useCallback","props","title","status","duration","isClosable","position","Sidebar","memo","selector","useSelector","LoginState","userId","currentUser","uid","dispatch","useDispatch","w","minW","minH","maxH","bg","onClick","push","src","alt","htmlWidth","mt","ml","_hover","cursor","bottom","fontSize","fontWeight","style","mb","borderColor","signOutData","getState","signOut","then","catch","SidebarLayout","children","Page404","align","justify","SEARCH_PAPER","PICK_PAPER","SEARCH_FAVORITE_PAPER","SKELETON","searchPapers","a","word","period","boolean","skeletonAction","axios","post","result","searchState","data","error","message","finally","pickPaper","index","resultData","pick","pickPaperAction","SearchInput","bool","useState","setWord","handleClickSearch","maxW","borderRadius","value","onChange","e","target","onKeyPress","key","handleKeyPressSearch","_active","top","SearchCondition","defaultValue","min","max","setBool","my","as","mx","size","variant","border","toggle","textDecoration","Condition","thisYear","periodBool","setPeriodBool","handlePeriod","h","ResultData","i","pickData","px","py","backgroundColor","background","href","url","isExternal","mw","abstract","writer","year","publisher","citations","className","data-text","data-hashtags","data-url","data-lang","DefaultView","favoritePicks","search","favoriteData","favoriteResult","favoriteResultSelector","recentPicks","recentPicksSelector","recentData","recentResult","recentResultSelector","useEffect","get","recent","recent_pick","favorite","favorite_picks","map","Result","userSelector","userStatus","point","coefficient","sort","b","console","table","handleClickPickCount","res","pickFunction","getSkeleton","searchPaper","Date","getFullYear","tenYearsAgo","setPeriod","useBoolean","searchSelector","skeletonSelector","skeleton","valueAsString","length","Array","_","height","DivideLineSocialButton","GoogleButton","pr","boxShadow","transition","p","colorScheme","TwitterButton","isFullWidth","leftIcon","shadow","LoginInput","showPassword","setShowPassword","useForm","errors","formState","register","handleSubmit","onSubmit","signInData","password","signInWithEmailAndPassword","user","providerData","forEach","profile","number","displayName","genConfig","code","isRequired","placeholder","required","pattern","opacity","UserLogin","RegistrationInput","showPass","setShowPass","showPassConf","setShowPassConf","signUpData","userName","passwordConf","createUserWithEmailAndPassword","updateProfile","delete","UserRegistration","PickedPaper","pickedData","setPickedData","currentUserId","err","log","width","shape","UserShow","location","useLocation","pathname","Title","titleName","setTitleName","path","startsWith","Helmet","Router","exact","component","App","initialState","UsersReducer","action","Actions","SearchPaperReducer","BooleanReducer","history","History","store","reduxCreateStore","combineReducers","router","connectRouter","applyMiddleware","routerMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"iQAYeA,EAVDC,YAAY,CACxBC,OAAQ,CACNC,OAAQ,CACNC,KAAM,CACJC,MAAO,e,sECFTC,EAAgB,SAACC,GAAD,OAAqBA,EAAMC,OAEpCC,EAAcC,YACzB,CAACJ,IACD,SAACC,GAAD,OAAkBA,EAAMI,YAGbC,EAAeF,YAC1B,CAACJ,IACD,SAACC,GAAD,OAAkBA,EAAMM,cAGbC,EAAYJ,YACvB,CAACJ,IACD,SAACC,GAAD,OAAkBA,EAAMQ,U,kECD1BC,IAASC,cAXc,CACrBC,OAAQC,0CACRC,WAAYD,gBAEZE,UAAWF,kBACXG,cAAeH,8BACfI,kBAAmBJ,eACnBK,MAAOL,4CACPM,cAAeN,iBAMjB,IACeO,EADFV,IAASU,OClBTC,EAAU,UACVC,EAAe,SAACC,GAC3B,MAAO,CACLC,KAAM,UACNC,QAAS,CACPlB,YAAY,EACZmB,GAAIH,EAAUG,GACdrB,SAAUkB,EAAUlB,SACpBsB,MAAOJ,EAAUI,MACjBlB,OAAQc,EAAUd,UAKXmB,EAAW,WChBXC,EAAehB,+BCEfiB,EAAmC,CAAC,CAC/C,IAAO,MACP,UAAa,UACb,QAAW,MACX,SAAY,OACZ,UAAa,QACb,WAAc,QACd,WAAc,OACd,aAAgB,OAChB,UAAa,UACb,UAAa,QACb,SAAY,OACZ,SAAY,UACZ,aAAgB,KAChB,WAAc,UACd,QAAW,WACV,CACD,IAAO,MACP,UAAa,UACb,QAAW,MACX,SAAY,OACZ,UAAa,QACb,WAAc,QACd,WAAc,OACd,aAAgB,OAChB,UAAa,OACb,UAAa,SACb,SAAY,SACZ,SAAY,OACZ,aAAgB,KAChB,WAAc,UACd,QAAW,oDACV,CACD,IAAO,MACP,UAAa,UACb,QAAW,MACX,SAAY,QACZ,UAAa,OACb,WAAc,QACd,WAAc,OACd,aAAgB,SAChB,UAAa,OACb,UAAa,QACb,SAAY,SACZ,SAAY,UACZ,aAAgB,KAChB,WAAc,UACd,QAAW,oDACV,CACD,IAAO,QACP,UAAa,UACb,QAAW,MACX,SAAY,QACZ,UAAa,QACb,WAAc,QACd,WAAc,QACd,aAAgB,OAChB,UAAa,UACb,UAAa,aACb,SAAY,OACZ,SAAY,UACZ,aAAgB,UAChB,WAAc,UACd,QAAW,oDACV,CACD,IAAO,QACP,UAAa,UACb,QAAW,MACX,SAAY,QACZ,UAAa,QACb,WAAc,QACd,WAAc,QACd,aAAgB,OAChB,UAAa,OACb,UAAa,aACb,SAAY,OACZ,SAAY,UACZ,aAAgB,UAChB,WAAc,UACd,QAAW,oDACV,CACD,IAAO,QACP,UAAa,UACb,QAAW,QACX,SAAY,QACZ,UAAa,QACb,WAAc,QACd,WAAc,QACd,aAAgB,OAChB,UAAa,OACb,UAAa,YACb,SAAY,OACZ,SAAY,OACZ,aAAgB,KAChB,WAAc,UACd,QAAW,Y,0BC7FAC,EAAa,WACxB,IAAMC,EAAQC,cAWd,MAAO,CAAEC,YAVWC,uBAAY,SAACC,GAAoB,IAC5CC,EAAiBD,EAAjBC,MAAOC,EAAUF,EAAVE,OACdN,EAAM,CACJK,QACAC,SACAC,SAAU,IACVC,YAAY,EACZC,SAAU,UAEX,CAACT,M,OCJOU,EAAcC,gBAAK,WAAO,IAAD,EAC9BC,EAAWC,aAAY,SAAC5C,GAAD,OAAqBA,KAC5C6C,EAAaxC,EAAasC,GAC1BG,EAAM,UAAG3B,EAAK4B,mBAAR,aAAG,EAAkBC,IAE3BC,EAAWC,cACXjB,EAAcH,IAEpB,OACE,eAAC,IAAD,CAAKqB,EAAE,MAAMC,KAAK,QAAQC,KAAK,QAAQC,KAAK,OAAOC,GAAG,UAAtD,UACE,cAAC,IAAD,CAAMC,QAAS,kBAAMP,EAASQ,YAAK,OAAOjB,SAAS,QAAnD,SACE,cAAC,IAAD,CACEkB,IAAG,UAAK9C,GAAL,mBACH+C,IAAI,kBACJC,UAAU,MACVC,GAAG,IACHC,GAAG,KACHC,OAAQ,CAACC,OAAQ,eAInBnB,EACE,mCACE,eAAC,IAAD,CAAKiB,GAAG,KAAKtB,SAAS,QAAQyB,OAAO,KAArC,UACE,cAAC,IAAD,CACEC,SAAS,KACTC,WAAW,OACXC,MAAO,CAACJ,OAAQ,WAChBD,OAAQ,CAACjE,MAAO,QAChB0D,QAAS,kBAAMP,EAASQ,YAAK,UAAD,OAAWX,MALzC,kDASA,cAAC,IAAD,CACEK,EAAE,OACFkB,GAAG,IACHC,YAAY,SAEd,cAAC,IAAD,CACEJ,SAAS,KACTC,WAAW,OACXC,MAAO,CAACJ,OAAQ,WAChBD,OAAQ,CAACjE,MAAO,QAChB0D,QAAS,kBAAMP,GCoDPsB,EDpDwBtC,ECqDvC,SAACgB,EAAyBuB,GAC/B,IACMlE,EADQkE,IACWvE,MAAMK,WACvB2B,EAAgBsC,EAAhBtC,YAEJ3B,EAEFa,EAAKsD,UACJC,MAAK,WAEJzB,ELnGC,CACL1B,KAAM,WACNC,QAAS,CACPlB,YAAY,EACZmB,GAAI,GACJrB,SAAU,GACVsB,MAAO,MK+FLuB,EAASQ,YAAK,aAEdxB,EAAY,CAACG,MAAO,uFAAkBC,OAAQ,eAE/CsC,OAAM,WAEL1C,EAAY,CAACG,MAAO,iIAAyBC,OAAQ,aAIvDJ,EAAY,CAACG,MAAO,qEAAeC,OAAQ,aAvB1B,IAACkC,GDzDV,4CAQA,cAAC,IAAD,CACEpB,EAAE,OACFkB,GAAG,IACHC,YAAY,cAKlB,eAAC,IAAD,CAAKR,GAAG,KAAKtB,SAAS,QAAQyB,OAAO,KAArC,UACE,cAAC,IAAD,CACEC,SAAS,KACTC,WAAW,OACXC,MAAO,CAACJ,OAAQ,WAChBD,OAAQ,CAACjE,MAAO,QAChB0D,QAAS,kBAAMP,EAASQ,YAAK,cAL/B,sCASA,cAAC,IAAD,CACEN,EAAE,OACFkB,GAAG,IACHC,YAAY,SAEd,cAAC,IAAD,CACEJ,SAAS,KACTC,WAAW,OACXC,MAAO,CAACJ,OAAQ,WAChBD,OAAQ,CAACjE,MAAO,QAChB0D,QAAS,kBAAMP,EAASQ,YAAK,cAL/B,sCAQA,cAAC,IAAD,CACEN,EAAE,OACFkB,GAAG,IACHC,YAAY,kBEhFbM,EAA4BlC,gBAAK,SAACP,GAAW,IAChD0C,EAAa1C,EAAb0C,SAER,OACE,mCACE,eAAC,IAAD,WACE,cAACpC,EAAD,IACCoC,U,QCfIC,EAAepC,gBAAK,WAC/B,OACE,cAAC,IAAD,CAAMS,EAAE,MAAM4B,MAAM,SAASC,QAAQ,SAArC,SACE,cAAC,IAAD,CAAMb,WAAW,OAAjB,6G,oECEOc,EAAe,eAWfC,GAAa,aAWbC,GAAwB,wBC5BxBC,GAAW,WCsBXC,GAAe,SAAClD,GAC3B,8CAAO,WAAOc,GAAP,mBAAAqC,EAAA,6DACGC,EAA8BpD,EAA9BoD,KAAMC,EAAwBrD,EAAxBqD,OAAQvD,EAAgBE,EAAhBF,YACtBgB,GCvBK,SAACA,EAAyBuB,GAG/BvB,EFJ0B,SAACjD,GAC7B,MAAO,CACLuB,KAAM,WACNC,QAAS,CACPiE,QAASzF,EAAMyF,UEARC,CAAe,CAACD,SAFXjB,IACQiB,QAAQA,cDmBzB,SAGCE,IAAMC,KAAN,UAAchE,EAAd,WAAqC,CAAC2D,OAAMC,WACjDd,MAAK,SAACmB,GFpBsB,IAACC,EEqB5B7C,EFpBG,CACL1B,KAAM,eACNC,QAAS,CACP+D,MAJ4BO,EEqBD,CACzBP,OACAM,OAAQA,EAAOE,OFnBCR,KAClBM,OAAQC,EAAYD,aEqBrBlB,OAAM,SAACqB,GAEN/D,EAAY,CAACG,MAAO4D,EAAMC,QAAS5D,OAAQ,aAE5C6D,SAAQ,kBAAMjD,GCnCV,SAACA,EAAyBuB,GAG/BvB,EFJ0B,SAACjD,GAC7B,MAAO,CACLuB,KAAM,WACNC,QAAS,CACPiE,QAASzF,EAAMyF,UEARC,CAAe,CAACD,SAFXjB,IACQiB,QAAQA,iBDmBzB,2CAAP,uDAkBWU,GAAY,SAAChE,GACxB,OAAO,SAACc,GAA6B,IAC3B4C,EAA2C1D,EAA3C0D,OAAQO,EAAmCjE,EAAnCiE,MAAOC,EAA4BlE,EAA5BkE,WAAYpE,EAAgBE,EAAhBF,YADD,cAEZ4D,EAFY,GAE3BS,EAF2B,KAErBlE,EAFqB,KAG5BC,EAAmB,yDAAVD,EAA2B,UAAY,QACtDa,EF5B2B,SAACd,GAA2B,IACjDmE,EAA4BnE,EAA5BmE,KAAMF,EAAsBjE,EAAtBiE,MAAOC,EAAelE,EAAfkE,WACrB,MAAO,CACL9E,KAAM,aACNC,QAAS,CACPqE,OAAO,GAAD,mBAAMQ,GAAN,CAAkBA,EAAWD,GAAOE,KAAOA,MEuB1CC,CAAgB,CAACD,OAAMF,QAAOC,gBACvCpE,EAAY,CAACG,QAAOC,aEpCXmE,GAA0B9D,gBAAK,SAACP,GAAW,IAC9CqD,EAAiBrD,EAAjBqD,OAAQiB,EAAStE,EAATsE,KADqC,EAE7BC,mBAAS,IAFoB,mBAE9CnB,EAF8C,KAExCoB,EAFwC,KAG/C1D,EAAWC,cACTjB,EAAgBH,IAAhBG,YAIF2E,EAAoB,WAEtB3D,EAASoC,GADPoB,EACoB,CAAClB,OAAMC,SAAQvD,eAEf,CAACsD,OAAMC,OAAQ,KAAMvD,kBAc/C,OACE,cAAC,IAAD,CAAM+C,QAAQ,SAASnB,GAAG,KAA1B,SACE,eAAC,IAAD,CAAYV,EAAE,MAAM0D,KAAK,QAAzB,UACE,cAAC,IAAD,CACEhC,SAAU,cAAC,IAAD,CAAU/E,MAAM,YAC1B0D,QAASoD,EACT7C,OAAQ,CAACC,OAAQ,aAEnB,cAAC,IAAD,CACE8C,aAAa,IACbC,MAAOxB,EACPyB,SA/BkB,SAACC,GAAD,OAAsCN,EAAQM,EAAEC,OAAOH,QAgCzEI,WAAY,SAACF,GAAD,OAtBS,SAACA,GACd,UAAVA,EAAEG,KACJR,IAoBuBS,CAAqBJ,MAGxC1B,EACE,cAAC,IAAD,CACEV,SAAU,cAAC,IAAD,CAAS/E,MAAM,YACzB0D,QAtBa,WACvBmD,EAAQ,KAsBE5C,OAAQ,CAACC,OAAQ,WACjBsD,QAAS,CAACC,IAAK,SAEf,a,oBC1CDC,GAA8B9E,gBAAK,SAACP,GAAW,IAClDC,EAA6ED,EAA7EC,MAAOyE,EAAsE1E,EAAtE0E,KAAME,EAAgE5E,EAAhE4E,MAAOU,EAAyDtF,EAAzDsF,aAAcC,EAA2CvF,EAA3CuF,IAAKC,EAAsCxF,EAAtCwF,IADU,EAC4BxF,EAAjCsE,YADK,SACMmB,EAAsBzF,EAAtByF,QAASZ,EAAa7E,EAAb6E,SACxE,OACE,eAAC,IAAD,CAAKa,GAAG,IAAR,UACE,cAAC,KAAD,CAASC,GAAG,KAAK5D,SAAS,KAAKC,WAAW,SAA1C,SAAoD/B,IAElDqE,EACE,qCACE,eAAC,IAAD,CAAMsB,GAAG,IAAT,UACE,eAAC,KAAD,CACEC,KAAK,KACLC,QAAQ,UACRpB,KAAMA,EACNE,MAAOA,EACPU,aAAcA,EACdC,IAAKA,EACLC,IAAKA,EACLX,SAAUA,EARZ,UAUE,cAAC,KAAD,CAAkBF,aAAa,SAC/B,eAAC,KAAD,WACE,cAAC,KAAD,CAAwBoB,OAAO,SAC/B,cAAC,KAAD,CAAwBA,OAAO,eAGnC,cAAC,IAAD,CAAMpE,GAAG,IAAT,kBAGU,iBAAV1B,EACE,cAAC,IAAD,CACE8B,SAAS,KACTL,GAAG,IACHkE,GAAG,IACHvE,QAAO,OAAEoE,QAAF,IAAEA,OAAF,EAAEA,EAASO,OAClBpE,OAAQ,CAACC,OAAQ,UAAWoE,eAAgB,aAL9C,8DASE,QAIR,cAAC,IAAD,CACElE,SAAS,KACTL,GAAG,IACHL,QAAO,OAAEoE,QAAF,IAAEA,OAAF,EAAEA,EAASO,OAClBpE,OAAQ,CAACC,OAAQ,UAAWoE,eAAgB,aAJ9C,kDC5CGC,GAAwB3F,gBAAK,SAACP,GAAW,IAC5CqD,EAA8DrD,EAA9DqD,OAAQ8C,EAAsDnG,EAAtDmG,SAAUC,EAA4CpG,EAA5CoG,WAAYC,EAAgCrG,EAAhCqG,cAAeC,EAAiBtG,EAAjBsG,aACrD,OACE,cAAC,IAAD,CAAKtF,EAAE,MAAMuF,EAAE,OAAf,SACE,eAAC,IAAD,CAAK5E,GAAG,IAAI+D,GAAG,KAAf,UACE,cAAC,IAAD,CAAM3D,SAAS,KAAf,sCACA,cAACsD,GAAD,CACEpF,MAAM,eACNyE,KAAM,GACNE,MAAOvB,EACPkC,IAAK,KACLC,IAAKW,EACL7B,KAAM8B,EACNX,QAASY,EACTxB,SAAUyB,IAEZ,cAACjB,GAAD,CACEpF,MAAM,qBACNyE,KAAM,GACNY,aAAc,IACdC,IAAK,Y,oBCnBFiB,GAAyBjG,gBAAK,SAACP,GAAW,IAC7C4D,EAAsB5D,EAAtB4D,KAAM6C,EAAgBzG,EAAhByG,EAAGC,EAAa1G,EAAb0G,SAEjB,OACE,eAAC,IAAD,CAAaC,GAAG,IAAIC,GAAG,IAAI3E,MAAQwE,EAAI,IAAM,EAAK,CAACI,gBAAiB,WAAa,CAACC,WAAY,WAA9F,UACE,cAAC,IAAD,CACE/E,SAAS,KACTC,WAAW,OACXrE,MAAM,UACNoJ,KAAMnD,EAAKoD,IACXC,YAAU,EALZ,SAOGrD,EAAK3D,QAER,cAAC,IAAD,CAAM8B,SAAS,KAAKL,GAAG,IAAIwF,GAAG,OAA9B,SACGtD,EAAKuD,WAER,eAAC,IAAD,CAAMpF,SAAS,KAAKpE,MAAM,UAA1B,UACGiG,EAAKwD,OADR,SACiBxD,EAAKyD,KADtB,SAC6BzD,EAAK0D,aAElC,cAAC,IAAD,CAAMvF,SAAS,KAAKL,GAAG,IAAvB,SACE,eAAC,IAAD,CAAMkB,MAAM,SAAZ,UACE,cAAC,KAAD,UACE,eAAC,IAAD,CAAMA,MAAM,SAAZ,UACE,cAAC,IAAD,IACA,eAAC,IAAD,0BACU8D,EAASD,WAIvB,eAAC,IAAD,CAAMb,GAAI,EAAV,iCAAmBhC,EAAK2D,aACxB,cAAC,IAAD,CACER,KAAK,sBACLS,UAAU,uBACVC,YAAW7D,EAAK3D,MAChByH,gBAAc,aACdC,WAAU/D,EAAKoD,IACfY,YAAU,KANZ,6CA3BInB,MCADoB,GAAmBtH,gBAAK,WACnC,IAAMO,EAAWC,cACTjB,EAAgBH,IAAhBG,YACFU,EAAWC,aAAY,SAAC5C,GAAD,OAAqBA,KAC5CiK,EAAsCtH,ECvBkBuH,OAAOD,cDwB/DE,ECvB8B,SAACnK,GAAD,OAAqBA,EAAMkK,OAAOE,eDuBjDC,CAAuB1H,GACtC2H,ECvB2B,SAACtK,GAAD,OAAqBA,EAAMkK,OAAOI,YDuB/CC,CAAoB5H,GAClC6H,ECvB4B,SAACxK,GAAD,OAAqBA,EAAMkK,OAAOO,aDuBjDC,CAAqB/H,GAMxC,OAJAgI,qBAAU,WNsBwB,IAACxI,EMrBjCc,GNqBiCd,EMrBH,CAACF,eNsB1B,SAACgB,GAA6B,IAC3BhB,EAAgBE,EAAhBF,YACR0D,IAAMiF,IAAN,UAAahJ,EAAb,YACC8C,MAAK,SAACmB,GF1B8B,IAACC,EE2BpC7C,EF1BG,CACL1B,KAAM,wBACNC,QAAS,CACPiJ,cAJoC3E,EE2BD,CACjC2E,aAAc5E,EAAOE,KAAK8E,OAC1BP,YAAazE,EAAOE,KAAK+E,YACzBV,eAAgBvE,EAAOE,KAAKgF,SAC5Bd,cAAepE,EAAOE,KAAKiF,iBF3BHP,aAC1BH,YAAaxE,EAAYwE,YACzBF,eAAgBtE,EAAYsE,eAC5BH,cAAenE,EAAYmE,oBE2B5BtF,OAAM,SAACqB,GACN/D,EAAY,CAACG,MAAO4D,EAAMC,QAAS5D,OAAQ,kBMjC5C,CAACY,EAAUhB,IAGZ,cAAC,IAAD,CAAKkB,EAAE,MAAM0D,KAAK,QAAQxC,GAAG,KAA7B,SACE,eAAC,KAAD,CAAM4D,QAAQ,WAAWa,GAAG,IAAIC,GAAG,IAAnC,UACE,eAAC,KAAD,WACE,cAAC,KAAD,6CACA,cAAC,KAAD,gEAEF,eAAC,KAAD,WACE,cAAC,KAAD,UACGoB,EAAac,KAAI,SAAClF,EAAM6C,GAAP,OAChB,cAACD,GAAD,CACE5C,KAAMA,EACN6C,EAAGA,EACHC,SAAUoB,SAIhB,cAAC,KAAD,UACGO,EAAWS,KAAI,SAAClF,EAAM6C,GAAP,OACd,cAACD,GAAD,CACE5C,KAAMA,EACN6C,EAAGA,EACHC,SAAUyB,oBEtCbY,GAAqBxI,gBAAK,SAACP,GAAW,IACzCkE,EAAelE,EAAfkE,WACFtD,EAAc5B,EAAK4B,YACnBC,EAAG,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAaC,IAEnBmI,EAAevI,aAAY,SAAC5C,GAAD,OAAyBA,KACpDoL,EAAa/K,EAAa8K,GAExBlJ,EAAgBH,IAAhBG,YACFgB,EAAWC,cAGjBhB,uBAAY,WACVmE,EAAW4E,KAAI,SAAClF,GAAD,OACbA,EAAKsF,MAAyB,IAAjBtF,EAAK2D,UAAkB3D,EAAKO,KAAOP,EAAKuF,eAEvDjF,EAAWkF,MAAK,SAACjG,EAAEkG,GACjB,OAAIlG,EAAE+F,MAAQG,EAAEH,OAAe,EAC3B/F,EAAE+F,MAAQG,EAAEH,MAAc,EACvB,KAETI,QAAQC,MAAMrF,KACb,CAACA,IAEJ,IAAMsF,EAAoB,uCAAG,WAAO9F,EAAsB+C,GAA7B,2BAAAtD,EAAA,6DACpBlD,EAA4DyD,EAA5DzD,MAAOkH,EAAqDzD,EAArDyD,SAAUC,EAA2C1D,EAA3C0D,OAAQC,EAAmC3D,EAAnC2D,KAAMC,EAA6B5D,EAA7B4D,UAAWC,EAAkB7D,EAAlB6D,UAAWP,EAAOtD,EAAPsD,IADjC,SAErBxD,IAAMC,KAAN,UAAchE,EAAd,UAAoC,CACxCQ,QACAkH,WACAC,SACAC,OACAC,YACAC,YACAP,MACAnG,QAED0B,MAAK,SAACkH,GACL,IAAMzJ,EAAQ,CACZ0D,OAAQ+F,EAAI7F,KACZK,MAAOwC,EACPvC,aACApE,eAEFgB,EAAUkD,GAAUhE,OAErBwC,OAAM,WACL1C,EAAY,CAACG,MAAO,6DAAiBC,OAAQ,aAtBpB,2CAAH,wDAgC1B,OACE,cAAC,IAAD,CAAKc,EAAE,MAAM0D,KAAK,QAAQxC,GAAG,KAA7B,SACGgC,EAAW4E,KAAI,SAACW,EAAKhD,GAAN,OACd,eAAC,IAAD,CAAaE,GAAG,IAAIC,GAAG,IAAI3E,MAAQwE,EAAI,IAAM,EAAK,CAACI,gBAAiB,WAAa,CAACC,WAAY,WAA9F,UACE,cAAC,IAAD,CACE/E,SAAS,KACTC,WAAW,OACXrE,MAAM,UACNoJ,KAAM0C,EAAIzC,IACVC,YAAU,EALZ,SAOGwC,EAAIxJ,QAEP,cAAC,IAAD,CAAM8B,SAAS,KAAKL,GAAG,IAAIwF,GAAG,OAA9B,SACGuC,EAAItC,WAEP,eAAC,IAAD,CAAMpF,SAAS,KAAKpE,MAAM,UAA1B,UACG8L,EAAIrC,OADP,SACgBqC,EAAIpC,KADpB,SAC2BoC,EAAInC,aAE/B,cAAC,IAAD,CAAMvF,SAAS,KAAKL,GAAG,IAAvB,SACE,eAAC,IAAD,CAAMkB,MAAM,SAAZ,UACE,cAAC,KAAD,UACE,eAAC,IAAD,CAAMA,MAAM,SAAZ,UACE,cAAC,IAAD,IACA,eAAC,IAAD,CACEvB,QAAS,kBA/BN,SAACqC,EAAsB+C,GAC1CwC,EACEO,EAAqB9F,EAAQ+C,GAC7B3G,EAAY,CAACG,MAAO,qHAAuBC,OAAQ,UA4BtBwJ,CAAaD,EAAKhD,IACjC7E,OAAQ,CAACqE,eAAgB,YAAapE,OAAQ,WAFhD,yBAGU4H,EAAItF,aAIlB,eAAC,IAAD,CAAMyB,GAAI,EAAV,iCAAmB6D,EAAIlC,aACvB,cAAC,IAAD,CACER,KAAK,sBACLS,UAAU,uBACVC,YAAWgC,EAAIxJ,MACfyH,gBAAc,aACdC,WAAU8B,EAAIzC,IACdY,YAAU,KANZ,6CA7BInB,WC1ELkD,GAAc3L,YACzB,CAHsB,SAACsF,GAAD,OAAsBA,KAI5C,SAACA,GAAD,OAAsBA,KCQXsG,GAAmBrJ,gBAAK,WACnC,IAAM4F,GAAW,IAAI0D,MAAOC,cACtBC,EAAW,UAAM5D,EAAW,IAFO,EAGb5B,mBAASwF,GAHI,mBAGlC1G,EAHkC,KAG1B2G,EAH0B,OAILC,cAJK,mBAIlC7D,EAJkC,KAItBC,EAJsB,KAMnC6D,EAAiBzJ,aAAY,SAAC5C,GAAD,OAAqBA,KAClDqG,EAAkCgG,EHnBqBnC,OAAOrE,OGqB9DyG,EAAmB1J,aAAY,SAAC5C,GAAD,OAA6BA,EAAMyF,QAAQA,WAC1E8G,EAAWT,GAAYQ,GAI7B,OACE,eAAC,IAAD,CAAKnJ,EAAE,MAAP,UACE,cAACqD,GAAD,CAAahB,OAAQA,EAAQiB,KAAM8B,IACnC,eAAC,IAAD,CAAM1E,GAAI,EAAGmB,QAAQ,SAArB,UACE,cAACqD,GAAD,CACE7C,OAAQA,EACR8C,SAAUA,EACVC,WAAYA,EACZC,cAAeA,EACfC,aAXa,SAAC+D,GAAD,OAA2BL,EAAUK,MAalDD,EAaA,mCACGlG,EAAWoG,OACV,cAACvB,GAAD,CACE7E,WAAYA,IAGd,cAAC2D,GAAD,MAlBJ,cAAC,IAAD,CAAK7G,EAAE,MAAM0D,KAAK,QAAQxC,GAAG,KAA7B,SACG,YAAIqI,MAAM,KAAKzB,KAAI,SAAC0B,EAAG/D,GAAJ,OAClB,eAAC,IAAD,CAAaE,GAAG,IAAIC,GAAG,IAAI3E,MAAQwE,EAAI,IAAM,EAAK,CAACI,gBAAiB,WAAa,CAACC,WAAY,WAA9F,UACE,cAAC,IAAD,CAAU2D,OAAO,SACjB,cAAC,IAAD,CAAUA,OAAO,OAAO/I,GAAG,QAC3B,cAAC,IAAD,CAAU+I,OAAO,OAAO/I,GAAG,QAC3B,cAAC,IAAD,CAAU+I,OAAO,OAAO/I,GAAG,QAC3B,cAAC,IAAD,CAAU+I,OAAO,MAAM/I,GAAG,WALlB+E,iB,UCvCXiE,GAAyBnK,gBAAK,WACzC,OACE,eAAC,IAAD,CAAMmF,GAAG,IAAT,UACE,cAAC,IAAD,CAASA,GAAG,MACZ,cAAC,IAAD,CAAME,GAAG,IAAIF,GAAG,IAAhB,gBACA,cAAC,IAAD,CAASA,GAAI,Y,UCLNiF,GAAepK,gBAAK,WAC/B,OACE,eAAC,IAAD,CACEmF,GAAI,EACJkF,GAAI,EACJhI,MAAM,SACNC,QAAQ,SACRgI,UAAU,OACVjJ,OAAQ,CAACC,OAAQ,UAAWT,GAAI,UAAW0J,WAAY,GANzD,UAQE,cAAC,IAAD,CACEvJ,IAAG,UAAK9C,GAAL,eACH+C,IAAI,gBAEN,cAAC,KAAD,CACEuJ,EAAE,IACFpN,MAAM,UACNqN,YAAY,QAHd,uCCbOC,GAAgB1K,gBAAK,WAChC,OACE,cAAC,KAAD,CACEmF,GAAI,EACJsF,YAAY,UACZrG,aAAa,IACbuG,aAAW,EACXC,SAAU,cAAC,IAAD,IACVC,OAAO,OANT,qC,+CCSSC,GAAkB9K,gBAAK,WAAO,IAAD,EACAgE,oBAAS,GADT,mBACjC+G,EADiC,KACnBC,EADmB,OAGkBC,eAArCC,EAHmB,EAGhCC,UAAaD,OAAUE,EAHS,EAGTA,SAAUC,EAHD,EAGCA,aACnC9K,EAAWC,cACTjB,EAAgBH,IAAhBG,YAOR,OACE,uBAAM+L,SAAUD,GAND,SAAChI,GAAsB,InB4CnBkI,EmB3CXvM,EAAoBqE,EAApBrE,MAAOwM,EAAanI,EAAbmI,SACfjL,GnB0CmBgL,EmB1CH,CAACvM,QAAOwM,WAAUjM,enB2CpC,uCAAO,WAAOgB,EAAyBuB,GAAhC,uBAAAc,EAAA,yDACCtF,EAAQwE,IACRlE,EAAaN,EAAMC,MAAMK,WACvBoB,EAAiCuM,EAAjCvM,MAAOwM,EAA0BD,EAA1BC,SAAUjM,EAAgBgM,EAAhBhM,YAEpB3B,EALA,gCAOGa,EAAKgN,2BAA2BzM,EAAOwM,GAC5CxJ,MAAK,SAACmB,GAAY,IAAD,EAEhB,UAAAA,EAAOuI,YAAP,SAAaC,aAAaC,SAAQ,SAACC,GAAa,IAAD,IACvCC,GAAgB,OAAPD,QAAO,IAAPA,GAAA,UAAAA,EAASE,mBAAT,eAAsBhC,SAAgB,OAAP8B,QAAO,IAAPA,GAAA,UAAAA,EAASE,mBAAT,eAAsBhC,QAAS,EAAI,EAEjFxJ,EAAS5B,EAAa,CACpBI,GAAE,OAAE8M,QAAF,IAAEA,OAAF,EAAEA,EAASvL,IACb5C,SAAQ,OAAEmO,QAAF,IAAEA,OAAF,EAAEA,EAASE,YACnB/M,QACAlB,OAAQkO,oBAAU7M,EAAa2M,UAInCvL,EAASQ,YAAK,MAEdxB,EAAY,CAACG,MAAO,iFAAiBC,OAAQ,eAE9CsC,OAAM,SAACqB,GAEa,wBAAfA,EAAM2I,KACR1M,EAAY,CAACG,MAAO,iFAAiBC,OAAQ,UACrB,wBAAf2D,EAAM2I,KACf1M,EAAY,CAACG,MAAO,uFAAkBC,OAAQ,UAE9CJ,EAAY,CAACG,MAAO,iIAAyBC,OAAQ,aAhCtD,2CAAP,6DmBvCE,UACE,eAAC,KAAD,WACE,eAAC,KAAD,CAAauM,YAAU,EAAvB,UACE,cAAC,KAAD,yDACA,cAAC,IAAD,cACEC,YAAa,mGACb7G,KAAK,KACLlB,aAAa,KACTgH,EAAS,QAAS,CACpBgB,SAAU,iFACVC,QAAS,CACPhI,MAAO,wJACPd,QAAS,0HAKb2H,EAAOlM,OAA+B,aAAtBkM,EAAOlM,MAAMH,KAC7B,cAAC,IAAD,CAAM2C,SAAS,KAAKpE,MAAM,UAA1B,kGAA4D8N,EAAOlM,OAAkC,uHAAzBkM,EAAOlM,MAAMuE,QACzF,cAAC,IAAD,CAAM/B,SAAS,KAAKpE,MAAM,UAA1B,sIAAiE,cAAC,IAAD,CAAK4I,EAAE,YAG5E,eAAC,KAAD,CAAakG,YAAU,EAAvB,UACE,cAAC,KAAD,6CACA,eAAC,IAAD,WACE,cAAC,IAAD,cACEC,YAAa,uFACb7G,KAAK,KACLzG,KAAMkM,EAAe,OAAS,WAC9B3G,aAAa,KACTgH,EAAS,WAAY,CACvBgB,UAAU,MAGd,cAAC,IAAD,CACEjH,GAAI,EACJrE,QAAS,kBAAMkK,GAAiBD,IAChC5I,SAAU4I,EAAe,cAAC,IAAD,IAAY,cAAC,IAAD,SAGxCG,EAAOM,SAAW,cAAC,IAAD,CAAMhK,SAAS,KAAKpE,MAAM,UAA1B,sFAA0D,cAAC,IAAD,CAAK4I,EAAE,eAGxF,cAAC,KAAD,CACE7E,GAAG,IACHN,GAAG,UACHzD,MAAM,QACNyB,KAAK,SACLuF,aAAa,IACb/C,OAAQ,CAACiL,QAAS,IAClB3B,aAAW,EAPb,4CC9DO4B,GAAiBvM,gBAAK,WACjC,OACE,cAAC,IAAD,CAAMS,EAAE,MAAM4B,MAAM,SAASC,QAAQ,SAArC,SACE,eAAC,IAAD,CAAK7B,EAAE,QAAQ+E,OAAO,MAAM5D,YAAY,WAAW4I,EAAE,IAArD,UACE,cAAC,KAAD,UACE,cAAC,KAAD,CAASpF,GAAG,KAAKE,KAAK,KAAKH,GAAG,IAA9B,wCAEF,eAAC,IAAD,CAAKE,GAAG,KAAR,UACE,cAACyF,GAAD,IACA,cAACX,GAAD,IACA,cAACO,GAAD,IACA,cAACN,GAAD,eCJGoC,GAAyBxM,gBAAK,WAAO,IAAD,EACfgE,oBAAS,GADM,mBACxCyI,EADwC,KAC9BC,EAD8B,OAEP1I,oBAAS,GAFF,mBAExC2I,EAFwC,KAE1BC,EAF0B,OAIW3B,eAArCC,EAJ0B,EAIvCC,UAAaD,OAAUE,EAJgB,EAIhBA,SAAUC,EAJM,EAINA,aACjC9L,EAAgBH,IAAhBG,YACFgB,EAAWC,cAWjB,OACE,uBAAM8K,SAAUD,GAVD,SAAChI,GAAsB,IrBZnBwJ,EqBaXC,EAA4CzJ,EAA5CyJ,SAAU9N,EAAkCqE,EAAlCrE,MAAOwM,EAA2BnI,EAA3BmI,SACrBA,IADgDnI,EAAjB0J,aAEjCxM,GrBfiBsM,EqBeD,CAACnP,SAAUoP,EAAU9N,QAAOwM,WAAUjM,erBd1D,uCAAO,WAAOgB,EAAyBuB,GAAhC,yBAAAc,EAAA,yDACCtF,EAAQwE,IACRlE,EAAaN,EAAMC,MAAMK,WACvBF,EAA2CmP,EAA3CnP,SAAUsB,EAAiC6N,EAAjC7N,MAAOwM,EAA0BqB,EAA1BrB,SAAUjM,EAAgBsN,EAAhBtN,YAE9B3B,EALA,gCAOGa,EAAKuO,+BAA+BhO,EAAOwM,GAChDxJ,KADK,+BAAAY,EAAA,MACA,WAAOO,GAAP,iBAAAP,EAAA,6DACEtC,EADF,UACQ6C,EAAOuI,YADf,aACQ,EAAapL,IADrB,SAEE2C,IAAMC,KAAN,UAAchE,EAAd,UAAoC,CAACoB,QAC1C0B,KADK,cAAAY,EAAA,MACA,4BAAAA,EAAA,gFACEO,EAAOuI,YADT,aACE,EAAauB,cAAc,CAAClB,YAAarO,IAC9CsE,MAAK,WAAO,IAAD,EAEV,UAAAmB,EAAOuI,YAAP,SAAaC,aAAaC,SAAQ,SAACC,GAAa,IAAD,IACvCC,GAAgB,OAAPD,QAAO,IAAPA,GAAA,UAAAA,EAASE,mBAAT,eAAsBhC,SAAgB,OAAP8B,QAAO,IAAPA,GAAA,UAAAA,EAASE,mBAAT,eAAsBhC,QAAS,EAAI,EAEjFxJ,EAAS5B,EAAa,CACpBI,GAAE,OAAE8M,QAAF,IAAEA,OAAF,EAAEA,EAASvL,IACb5C,SAAQ,OAAEmO,QAAF,IAAEA,OAAF,EAAEA,EAASE,YACnB/M,MAAK,OAAE6M,QAAF,IAAEA,OAAF,EAAEA,EAAS7M,MAChBlB,OAAQkO,oBAAU7M,EAAa2M,UAInCvL,EAASQ,YAAK,MAEdxB,EAAY,CAACG,MAAO,qEAAeC,OAAQ,eAE5CsC,OAAM,WACL1C,EAAY,CAACG,MAAO,iIAAyBC,OAAQ,aApBnD,4CAuBLsC,MAxBK,cAAAW,EAAA,MAwBC,4BAAAA,EAAA,gFACCnE,EAAK4B,mBADN,aACC,EAAkB6M,SADnB,OAEL3N,EAAY,CAACG,MAAO,qKAA+BC,OAAQ,UAFtD,4CA1BH,2CADA,uDAgCLsC,OAAM,SAACqB,GAEa,8BAAfA,EAAM2I,KACR1M,EAAY,CAACG,MAAO,2HAAwBC,OAAQ,UAC5B,uBAAf2D,EAAM2I,KACf1M,EAAY,CAACG,MAAO,gHAAuBC,OAAQ,UAEnDJ,EAAY,CAACG,MAAO,iIAAyBC,OAAQ,aA9CtD,2CAAP,0DqBgBIJ,EAAY,CAACG,MAAO,6IAA2BC,OAAQ,aAKzD,UACE,eAAC,KAAD,WACE,eAAC,KAAD,CAAauM,YAAU,EAAvB,UACE,cAAC,KAAD,6CACA,cAAC,IAAD,cACEC,YAAa,uFACb7G,KAAK,KACLlB,aAAa,KACTgH,EAAS,WAAY,CACvBgB,UAAU,MAGblB,EAAO4B,SAAW,cAAC,IAAD,CAAMtL,SAAS,KAAKpE,MAAM,UAA1B,sFAA0D,cAAC,IAAD,CAAK4I,EAAE,YAEtF,eAAC,KAAD,CAAakG,YAAU,EAAvB,UACE,cAAC,KAAD,yDACA,cAAC,IAAD,cACEC,YAAa,mGACb7G,KAAK,KACLlB,aAAa,KACTgH,EAAS,QAAS,CACpBgB,SAAU,iFACVC,QAAS,CACPhI,MAAO,wJACPd,QAAS,0HAKb2H,EAAOlM,OAA+B,aAAtBkM,EAAOlM,MAAMH,KAC7B,cAAC,IAAD,CAAM2C,SAAS,KAAKpE,MAAM,UAA1B,kGAA4D8N,EAAOlM,OAAkC,uHAAzBkM,EAAOlM,MAAMuE,QACzF,cAAC,IAAD,CAAM/B,SAAS,KAAKpE,MAAM,UAA1B,sIAAiE,cAAC,IAAD,CAAK4I,EAAE,YAG5E,eAAC,KAAD,CAAakG,YAAU,EAAvB,UACE,cAAC,KAAD,6CACA,eAAC,IAAD,WACE,cAAC,IAAD,cACEC,YAAa,uFACb7G,KAAK,KACLzG,KAAM4N,EAAW,OAAS,WAC1BrI,aAAa,KACTgH,EAAS,WAAY,CACvBgB,UAAU,MAGd,cAAC,IAAD,CACEjH,GAAI,EACJrE,QAAS,kBAAM4L,GAAaD,IAC5BtK,SAAUsK,EAAW,cAAC,IAAD,IAAY,cAAC,IAAD,SAGpCvB,EAAOM,SAAW,cAAC,IAAD,CAAMhK,SAAS,KAAKpE,MAAM,UAA1B,sFAA0D,cAAC,IAAD,CAAK4I,EAAE,YAEtF,eAAC,KAAD,CAAakG,YAAU,EAAvB,UACE,cAAC,KAAD,2EACA,eAAC,IAAD,WACE,cAAC,IAAD,cACEC,YAAa,qHACb7G,KAAK,KACLzG,KAAM8N,EAAe,OAAS,WAC9BvI,aAAa,KACTgH,EAAS,eAAgB,CAC3BgB,UAAU,MAGd,cAAC,IAAD,CACEjH,GAAI,EACJrE,QAAS,kBAAM8L,GAAiBD,IAChCxK,SAAUwK,EAAe,cAAC,IAAD,IAAY,cAAC,IAAD,SAGxCzB,EAAO6B,aAAe,cAAC,IAAD,CAAMvL,SAAS,KAAKpE,MAAM,UAA1B,oHAA+D,cAAC,IAAD,CAAK4I,EAAE,eAGjG,cAAC,KAAD,CACE7E,GAAG,IACHN,GAAG,UACHzD,MAAM,QACNyB,KAAK,SACLuF,aAAa,IACb/C,OAAQ,CAACiL,QAAS,IAClB3B,aAAW,EAPb,gCCrGOwC,GAAwB,WACnC,OACE,cAAC,IAAD,CAAM1M,EAAE,MAAM4B,MAAM,SAASC,QAAQ,SAArC,SACE,eAAC,IAAD,CAAK7B,EAAE,QAAQ+E,OAAO,MAAM5D,YAAY,WAAW4I,EAAE,IAArD,UACE,cAAC,KAAD,UACE,cAAC,KAAD,CAASpF,GAAG,KAAKE,KAAK,KAAKH,GAAG,IAA9B,wCAEF,eAAC,IAAD,CAAKE,GAAG,KAAR,UACE,cAACmH,GAAD,IACA,cAACrC,GAAD,IACA,cAACO,GAAD,IACA,cAACN,GAAD,aCPGgD,GAAmBpN,gBAAK,WAAO,IAAD,IACLgE,mBAAc,IADT,mBAClCqJ,EADkC,KACtBC,EADsB,KAEnCrN,EAAWC,aAAY,SAAC5C,GAAD,OAAqBA,KAC5CwP,EAAWtP,EAAYyC,GACvBnC,EAASD,EAAUoC,GACnBsN,EAAa,UAAG9O,EAAK4B,mBAAR,aAAG,EAAkBC,IAYxC,OAVA2H,qBAAU,WACRhF,IAAMC,KAAN,UAAchE,EAAd,gBAA0C,CAACoB,IAAKiN,IAC/CvL,MAAK,SAACkH,GACLoE,EAAcpE,EAAI7F,SAEnBpB,OAAM,SAACuL,GACNzE,QAAQ0E,IAAID,QAEb,CAACD,IAGF,eAAC,IAAD,CAAM9M,EAAE,MAAM4B,MAAM,SAApB,UACE,eAAC,IAAD,CAAK5B,EAAE,MAAMX,SAAS,QAAtB,UACE,cAAC,IAAD,6BACMhC,GADN,IAEE4D,MAAO,CAACgM,MAAO,QAASxD,OAAQ,SAChCyD,MAAM,aAER,cAAC,KAAD,CAASvI,GAAG,KAAK5D,SAAS,KAAKL,GAAG,IAAlC,SAAuC2L,IACvC,eAAC,IAAD,CAAM1P,MAAM,WAAZ,qBAA2BmQ,QAE7B,eAAC,IAAD,CAAKnM,GAAG,MAAM+D,GAAG,KAAjB,UACE,cAAC,KAAD,CAASC,GAAG,KAAK5D,SAAS,MAA1B,sDACC6L,EAAWtD,OACV,cAAC,IAAD,CAAK5I,GAAG,IAAIV,EAAE,OAAd,SACG4M,EAAW9E,KAAI,SAACW,EAAmBhD,GAApB,OACd,eAAC,IAAD,CAAaE,GAAG,IAAIC,GAAG,IAAI3E,MAAQwE,EAAI,IAAM,EAAK,CAACI,gBAAiB,WAAa,CAACC,WAAY,WAA9F,UACE,cAAC,IAAD,CACE/E,SAAS,KACTC,WAAW,OACXrE,MAAM,UACNoJ,KAAM0C,EAAIzC,IACVC,YAAU,EALZ,SAOGwC,EAAIxJ,QAEP,cAAC,IAAD,CAAM8B,SAAS,KAAKL,GAAG,IAAIwF,GAAG,OAA9B,SACGuC,EAAItC,WAEP,eAAC,IAAD,CAAMpF,SAAS,KAAKpE,MAAM,UAA1B,UACG8L,EAAIrC,OADP,SACgBqC,EAAIpC,KADpB,SAC2BoC,EAAInC,aAE/B,cAAC,IAAD,CAAMvF,SAAS,KAAKL,GAAI,EAAxB,SACE,eAAC,IAAD,CAAMkB,MAAM,SAAZ,UACE,eAAC,IAAD,kCAAY6G,EAAIlC,aAChB,cAAC,IAAD,CACER,KAAK,sBACLS,UAAU,uBACVC,YAAWgC,EAAIxJ,MACfyH,gBAAc,aACdC,WAAU8B,EAAIzC,IACdY,YAAU,KACVhC,GAAI,EAPN,6CAnBIa,QAkCd,cAAC,IAAD,CAAK/E,GAAG,IAAIV,EAAE,OAAd,SACE,cAAC,IAAD,CAAMgB,WAAW,OAAjB,yFCtECmM,GAAgB5N,gBAAK,WAAO,IAAD,EAChCC,EAAWC,aAAY,SAAC5C,GAAD,OAAqBA,KAC5CoL,EAAa/K,EAAasC,GAC1BsN,EAAa,UAAG9O,EAAK4B,mBAAR,aAAG,EAAkBC,IAClCuN,EAAWC,cAEjB,OACE,eAAC,IAAD,CAAMrN,EAAE,MAAM4B,MAAM,SAASC,QAAQ,SAArC,UACGoG,GAAcmF,EAASE,WAAT,iBAAgCR,IAC7C,cAACH,GAAD,IAED1E,GAAcmF,EAASE,WAAT,iBAAgCR,IAC7C,cAAC,IAAD,CAAM9L,WAAW,OAAjB,4IAEDiH,GACC,cAAC,IAAD,CAAMjH,WAAW,OAAjB,gF,UCrBKuM,GAAahO,gBAAK,WAAO,IAAD,EACDgE,mBAAS,IADR,mBAC5BiK,EAD4B,KACjBC,EADiB,KAG7BC,EADWL,cACKC,SAGtB9F,qBAAU,WACR,OAAQkG,GACN,IAAK,IACHD,EAAa,IACb,MACF,IAAK,WACHA,EAAa,4BACb,MACF,IAAK,WACHA,EAAa,4BACb,MACF,KAAKC,EAAKC,WAAW,YAAcD,EACjCD,EAAa,wCACb,MACF,QACEA,EAAa,2FAEhB,CAACC,IAEJ,IAAMzO,EAAQuO,EAAS,UAAMA,EAAN,iBAAiC,aAExD,OACE,cAACI,GAAA,EAAD,CAAQ3O,MAAOA,OCtBN4O,GAActO,gBAAK,WAC9B,OACE,qCACE,cAACgO,GAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOO,OAAK,EAACJ,KAAK,IAAIK,UAAWnF,KACjC,cAAC,IAAD,CAAOkF,OAAK,EAACJ,KAAK,WAAWK,UAAWrB,KACxC,cAAC,IAAD,CAAOoB,OAAK,EAACJ,KAAK,WAAWK,UAAWjC,KACxC,cAAC,IAAD,CAAO4B,KAAK,aAAaK,UAAWZ,KACpC,cAAC,IAAD,CAAOO,KAAK,KAAKK,UAAWpM,aCFrBqM,OAVf,WACE,OACE,cAAC,IAAD,CAAgB1R,MAAOA,EAAvB,SACE,cAACmF,EAAD,UACE,cAACoM,GAAD,S,6BCXKI,GAAe,CAC1BnR,MAAO,CACLK,YAAY,EACZmB,GAAI,GACJrB,SAAU,GACVsB,MAAO,GACPwM,SAAU,GACV1N,OAAQ,IAEV6E,aAAc,CACZE,KAAM,GACNM,OAAQ,GACR4E,aAAc,GACdH,YAAa,GACbF,eAAgB,GAChBH,cAAe,IAEjBxE,QAAS,CACPA,SAAS,ICdA4L,GAAe,WAAiD,IAAhDrR,EAA+C,uDAAvCoR,GAAanR,MAAOqR,EAAmB,uCAC1E,OAAQA,EAAO/P,MACb,KAAKgQ,EACL,KAAKA,EACH,OAAO,6BACFvR,GACAsR,EAAO9P,SAEd,QACE,OAAOxB,ICTAwR,GAAqB,WAAwD,IAAvDxR,EAAsD,uDAA9CoR,GAAa/L,aAAciM,EAAmB,uCACvF,OAAQA,EAAO/P,MACb,KAAKgQ,EACL,KAAKA,GACH,OAAO,6BACFvR,GACAsR,EAAO9P,SAEd,KAAK+P,GACH,OAAO,gBACFD,EAAO9P,SAEd,QACE,OAAOxB,ICbAyR,GAAiB,WAAmD,IAAlDzR,EAAiD,uDAAzCoR,GAAa3L,QAAS6L,EAAmB,uCAC9E,OAAQA,EAAO/P,MACb,KAAKgQ,GACH,OAAO,6BACFvR,GACAsR,EAAO9P,SAEd,QACE,OAAOxB,ICFb,ICGoC0R,GDH9BA,GAAUC,MACHC,ICEuBF,GDFHA,GCGxBG,aACLC,aAAgB,CACdC,OAAQC,YAAcN,IACtBzR,MAAOoR,GACPnH,OAAQsH,GACR/L,QAASgM,KAEXQ,aACEC,aAAiBR,IACjBS,QDVNC,IAASC,OACP,cAAC,IAAD,CAAUT,MAAOA,GAAjB,SACE,cAAC,IAAD,CAAiBF,QAASA,GAA1B,SACE,cAAC,GAAD,QAGJY,SAASC,eAAe,W","file":"static/js/main.c45e410c.chunk.js","sourcesContent":["import { extendTheme } from \"@chakra-ui/react\";\n\nconst theme = extendTheme({\n  styles: {\n    global: {\n      body: {\n        color: \"#333333\"\n      }\n    }\n  }\n});\n\nexport default theme;","import { createSelector } from 'reselect'\n\nimport { Selector, Users } from './ActionType';\n\nconst usersSelector = (state: Selector) => state.users;\n\nexport const getUserName = createSelector(\n  [usersSelector],\n  (state: Users) => state.username\n)\n\nexport const getUserState = createSelector(\n  [usersSelector],\n  (state: Users) => state.isSignedIn\n)\n\nexport const getAvatar = createSelector(\n  [usersSelector],\n  (state: Users) => state.avatar\n)","import \"firebase/auth\";\nimport \"firebase/firebase-firestore\";\n\nimport firebase from \"firebase\";\n\n// Firebaseの接続情報をconfigオブジェクトに保持\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  // databaseURL: process.env.REACT_APP_DATABASEURL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\n};\n\nfirebase.initializeApp(firebaseConfig);\n\n// Authサービスを作ってエクスポート。各画面でこれを利用する\nconst auth = firebase.auth();\nexport default auth;","import { Users } from \"./ActionType\";\n\nexport const SIGN_UP = \"SIGN_UP\";\nexport const signUpAction = (userState: Omit<Users, \"isSignedIn\" | \"password\">) => {\n  return {\n    type: \"SIGN_UP\",\n    payload: {\n      isSignedIn: true,\n      id: userState.id,\n      username: userState.username,\n      email: userState.email,\n      avatar: userState.avatar\n    }\n  }\n};\n\nexport const SIGN_OUT = \"SIGN_OUT\";\nexport const signOutAction = () => {\n  return {\n    type: \"SIGN_OUT\",\n    payload: {\n      isSignedIn: false,\n      id: \"\",\n      username: \"\",\n      email: \"\"\n    }\n  }\n};","export const API_ENDPOINT = process.env.REACT_APP_API_ENDPOINT","import { AvatarFullConfig } from \"react-nice-avatar\"\n\nexport const avatarConfig: AvatarFullConfig[] = [{\n  \"sex\": \"man\",\n  \"faceColor\": \"#F9C9B6\",\n  \"earSize\": \"big\",\n  \"eyeStyle\": \"oval\",\n  \"noseStyle\": \"round\",\n  \"mouthStyle\": \"peace\",\n  \"shirtStyle\": \"polo\",\n  \"glassesStyle\": \"none\",\n  \"hairColor\": \"#77311D\",\n  \"hairStyle\": \"thick\",\n  \"hatStyle\": \"none\",\n  \"hatColor\": \"#F48150\",\n  \"eyeBrowStyle\": \"up\",\n  \"shirtColor\": \"#9287FF\",\n  \"bgColor\": \"#506AF4\"\n}, {\n  \"sex\": \"man\",\n  \"faceColor\": \"#F9C9B6\",\n  \"earSize\": \"big\",\n  \"eyeStyle\": \"oval\",\n  \"noseStyle\": \"round\",\n  \"mouthStyle\": \"smile\",\n  \"shirtStyle\": \"polo\",\n  \"glassesStyle\": \"none\",\n  \"hairColor\": \"#000\",\n  \"hairStyle\": \"normal\",\n  \"hatStyle\": \"turban\",\n  \"hatColor\": \"#fff\",\n  \"eyeBrowStyle\": \"up\",\n  \"shirtColor\": \"#9287FF\",\n  \"bgColor\": \"linear-gradient(45deg, #1729ff 0%, #ff56f7 100%)\"\n}, {\n  \"sex\": \"man\",\n  \"faceColor\": \"#AC6651\",\n  \"earSize\": \"big\",\n  \"eyeStyle\": \"smile\",\n  \"noseStyle\": \"long\",\n  \"mouthStyle\": \"smile\",\n  \"shirtStyle\": \"polo\",\n  \"glassesStyle\": \"square\",\n  \"hairColor\": \"#000\",\n  \"hairStyle\": \"thick\",\n  \"hatStyle\": \"beanie\",\n  \"hatColor\": \"#D2EFF3\",\n  \"eyeBrowStyle\": \"up\",\n  \"shirtColor\": \"#77311D\",\n  \"bgColor\": \"linear-gradient(90deg, #36cd1c 0%, #68deff 100%)\"\n}, {\n  \"sex\": \"woman\",\n  \"faceColor\": \"#F9C9B6\",\n  \"earSize\": \"big\",\n  \"eyeStyle\": \"smile\",\n  \"noseStyle\": \"short\",\n  \"mouthStyle\": \"smile\",\n  \"shirtStyle\": \"hoody\",\n  \"glassesStyle\": \"none\",\n  \"hairColor\": \"#77311D\",\n  \"hairStyle\": \"womanShort\",\n  \"hatStyle\": \"none\",\n  \"hatColor\": \"#506AF4\",\n  \"eyeBrowStyle\": \"upWoman\",\n  \"shirtColor\": \"#9287FF\",\n  \"bgColor\": \"linear-gradient(45deg, #178bff 0%, #ff6868 100%)\"\n}, {\n  \"sex\": \"woman\",\n  \"faceColor\": \"#F9C9B6\",\n  \"earSize\": \"big\",\n  \"eyeStyle\": \"smile\",\n  \"noseStyle\": \"short\",\n  \"mouthStyle\": \"laugh\",\n  \"shirtStyle\": \"short\",\n  \"glassesStyle\": \"none\",\n  \"hairColor\": \"#000\",\n  \"hairStyle\": \"womanShort\",\n  \"hatStyle\": \"none\",\n  \"hatColor\": \"#D2EFF3\",\n  \"eyeBrowStyle\": \"upWoman\",\n  \"shirtColor\": \"#6BD9E9\",\n  \"bgColor\": \"linear-gradient(45deg, #178bff 0%, #ff6868 100%)\"\n}, {\n  \"sex\": \"woman\",\n  \"faceColor\": \"#AC6651\",\n  \"earSize\": \"small\",\n  \"eyeStyle\": \"smile\",\n  \"noseStyle\": \"short\",\n  \"mouthStyle\": \"laugh\",\n  \"shirtStyle\": \"hoody\",\n  \"glassesStyle\": \"none\",\n  \"hairColor\": \"#000\",\n  \"hairStyle\": \"womanLong\",\n  \"hatStyle\": \"none\",\n  \"hatColor\": \"#000\",\n  \"eyeBrowStyle\": \"up\",\n  \"shirtColor\": \"#6BD9E9\",\n  \"bgColor\": \"#FFEDEF\"\n}]","import { useToast } from \"@chakra-ui/react\";\nimport { useCallback } from \"react\";\nimport { Message } from \"../redux/users/ActionType\";\n\nexport const useMessage = () => {\n  const toast = useToast();\n  const showMessage = useCallback((props: Message) => {\n    const {title, status} = props;\n    toast({\n      title,\n      status,\n      duration: 3000,\n      isClosable: true,\n      position: \"top\"\n    })\n  }, [toast])\n  return { showMessage }\n}","import { memo, VFC } from \"react\";\nimport { Box, Divider, Image, Link, Text } from \"@chakra-ui/react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { push } from \"connected-react-router\";\n\nimport { Selector } from \"../../../redux/users/ActionType\";\nimport { getUserState } from \"../../../redux/users/selectors\";\nimport { signOut } from \"../../../redux/users/Operations\";\nimport { useMessage } from \"../../../hooks/useMessage\";\nimport auth from \"../../../firebase\";\n\nexport const Sidebar:VFC = memo(() => {\n  const selector = useSelector((state: Selector) => state);\n  const LoginState = getUserState(selector)\n  const userId = auth.currentUser?.uid\n\n  const dispatch = useDispatch();\n  const showMessage = useMessage();\n\n  return (\n    <Box w=\"20%\" minW=\"300px\" minH=\"100vh\" maxH=\"100%\" bg=\"#B5C99A\">\n      <Link onClick={() => dispatch(push(\"/\"))} position=\"fixed\">\n        <Image\n          src={`${process.env.PUBLIC_URL}/PaperPicks.png`}\n          alt=\"PaperPicks Logo\"\n          htmlWidth=\"200\"\n          mt=\"8\"\n          ml=\"14\"\n          _hover={{cursor: \"pointer\"}}\n        />\n      </Link>\n      {\n        LoginState ? (\n          <>\n            <Box ml=\"20\" position=\"fixed\" bottom=\"20\">\n              <Text\n                fontSize=\"lg\"\n                fontWeight=\"bold\"\n                style={{cursor: \"pointer\"}}\n                _hover={{color: \"#777\"}}\n                onClick={() => dispatch(push(`/users/${userId}`))}\n              >\n                プロフィール\n              </Text>\n              <Divider\n                w=\"200%\"\n                mb=\"3\"\n                borderColor=\"#333\"\n              />\n              <Text\n                fontSize=\"lg\"\n                fontWeight=\"bold\"\n                style={{cursor: \"pointer\"}}\n                _hover={{color: \"#777\"}}\n                onClick={() => dispatch(signOut(showMessage))}>\n                ログアウト\n              </Text>\n              <Divider\n                w=\"200%\"\n                mb=\"3\"\n                borderColor=\"#333\"\n              />\n            </Box>\n          </>\n        ) : (\n          <Box ml=\"20\" position=\"fixed\" bottom=\"20\">\n            <Text\n              fontSize=\"lg\"\n              fontWeight=\"bold\"\n              style={{cursor: \"pointer\"}}\n              _hover={{color: \"#777\"}}\n              onClick={() => dispatch(push(\"/sign_up\"))}\n            >\n              新規登録\n            </Text>\n            <Divider\n              w=\"200%\"\n              mb=\"3\"\n              borderColor=\"#333\"\n            />\n            <Text\n              fontSize=\"lg\"\n              fontWeight=\"bold\"\n              style={{cursor: \"pointer\"}}\n              _hover={{color: \"#777\"}}\n              onClick={() => dispatch(push(\"/sign_in\"))}>\n              ログイン\n            </Text>\n            <Divider\n              w=\"200%\"\n              mb=\"3\"\n              borderColor=\"#333\"\n            />\n          </Box>\n        )\n      }\n    </Box>\n  )\n})","import { push } from \"connected-react-router\";\nimport { Dispatch } from \"redux\";\nimport axios from \"axios\";\n\nimport auth from \"../../firebase\";\nimport { signOutAction, signUpAction } from \"./Action\";\nimport { SignInAndUp } from \"./ActionType\";\nimport { API_ENDPOINT } from \"../../template/apiEndpoint\";\nimport { avatarConfig } from \"../../template/niceAvatar\";\nimport { genConfig } from \"react-nice-avatar\";\n\n\nexport const signUp = (signUpData: SignInAndUp) => {\n  return async (dispatch: Dispatch<any>, getState: any) => {\n    const state = getState();\n    const isSignedIn = state.users.isSignedIn;\n    const { username, email, password, showMessage } = signUpData;\n\n    if (!isSignedIn) {\n      // firebaseにユーザーを作成する\n      await auth.createUserWithEmailAndPassword(email, password)\n      .then(async (result) => {\n        const uid = result.user?.uid\n        await axios.post(`${API_ENDPOINT}/users`, {uid})\n        .then(async () => {\n          await result.user?.updateProfile({displayName: username})\n          .then(() => {\n            // ログインユーザー情報を取得\n            result.user?.providerData.forEach((profile) => {\n              const number = profile?.displayName?.length ? profile?.displayName?.length % 6 : 0\n              // storeにユーザー情報を保存\n              dispatch(signUpAction({\n                id: profile?.uid,\n                username: profile?.displayName,\n                email: profile?.email,\n                avatar: genConfig(avatarConfig[number])\n              }))\n            })\n            // ルートパスに移動\n            dispatch(push(\"/\"))\n            // メッセージの表示\n            showMessage({title: \"正常に登録できました。\", status: \"success\"});\n          })\n          .catch(() => {\n            showMessage({title: \"不明なエラーです。もう一度お試しください。\", status: \"error\"});\n          })\n        })\n        .catch(async () => {\n          await auth.currentUser?.delete();\n          showMessage({title: \"ユーザーの保存に失敗しました。もう一度お試しください。\", status: \"error\"})\n        })\n      })\n      .catch((error) => {\n        // エラーメッセージの表示\n        if (error.code === \"auth/email-already-in-use\") {\n          showMessage({title: \"このメールアドレスは既に使われています。\", status: \"error\"});\n        } else if (error.code === \"auth/weak-password\") {\n          showMessage({title: \"パスワードは6文字以上にしてください。\", status: \"error\"});\n        } else {\n          showMessage({title: \"不明なエラーです。もう一度お試しください。\", status: \"error\"});\n        }\n      })\n    }\n  }\n}\n\nexport const signIn = (signInData: Omit<SignInAndUp, \"username\">) => {\n  return async (dispatch: Dispatch<any>, getState: any) => {\n    const state = getState();\n    const isSignedIn = state.users.isSignedIn;\n    const { email, password, showMessage } = signInData;\n\n    if (!isSignedIn) {\n      // firebaseでログイン\n      await auth.signInWithEmailAndPassword(email, password)\n      .then((result) => {\n        // ログインユーザー情報を取得\n        result.user?.providerData.forEach((profile) => {\n          const number = profile?.displayName?.length ? profile?.displayName?.length % 6 : 0\n        // storeにユーザー情報を保存\n          dispatch(signUpAction({\n            id: profile?.uid,\n            username: profile?.displayName,\n            email,\n            avatar: genConfig(avatarConfig[number])\n          }))\n        });\n        // ルートパスに移動\n        dispatch(push(\"/\"))\n        // メッセージの表示\n        showMessage({title: \"正常にログインできました。\", status: \"success\"});\n      })\n      .catch((error) => {\n        // エラーメッセージの表示\n        if (error.code === \"auth/user-not-found\") {\n          showMessage({title: \"ユーザーが見つかりません。\", status: \"error\"})\n        } else if (error.code === \"auth/wrong-password\") {\n          showMessage({title: \"パスワードが間違っています。\", status: \"error\"})\n        } else {\n          showMessage({title: \"不明なエラーです。もう一度お試しください。\", status: \"error\"})\n        }\n      })\n    }\n  }\n}\n\nexport const signOut = (signOutData: Pick<SignInAndUp, \"showMessage\">) => {\n  return (dispatch: Dispatch<any>, getState: any) => {\n    const state = getState();\n    const isSignedIn = state.users.isSignedIn;\n    const { showMessage } = signOutData;\n\n    if (isSignedIn) {\n      // firebaseログアウト\n      auth.signOut()\n      .then(() => {\n        // signOutActionの呼び出し\n        dispatch(signOutAction());\n        // sign_inパスに移動\n        dispatch(push(\"/sign_in\"));\n        // メッセージの表示\n        showMessage({title: \"正常にログアウトされました。\", status: \"success\"});\n      })\n      .catch(() => {\n        // エラーメッセージの表示\n        showMessage({title: \"不明なエラーです。もう一度お試しください。\", status: \"error\"});\n      })\n    } else {\n      // エラーメッセージの表示\n      showMessage({title: \"ログインしてください。\", status: \"error\"});\n    }\n  }\n}","import { Flex } from \"@chakra-ui/react\";\nimport { memo, ReactNode } from \"react\";\nimport { VFC } from \"react\";\n\nimport { Sidebar } from \"../organisms/layout/Sidebar\"\n\n\ntype Props = {\n  children: ReactNode;\n}\n\nexport const SidebarLayout: VFC<Props> = memo((props) => {\n  const { children } = props;\n\n  return (\n    <>\n      <Flex>\n        <Sidebar />\n        {children}\n      </Flex>\n    </>\n  )\n})","import { Flex, Text } from \"@chakra-ui/react\"\nimport { memo, VFC } from \"react\"\n\nexport const Page404: VFC = memo(() => {\n  return (\n    <Flex w=\"80%\" align=\"center\" justify=\"center\">\n      <Text fontWeight=\"bold\">お探しのページは存在しません。</Text>\n    </Flex>\n  )\n})","import { SearchFavoritePaper, searchPaper, searchResult } from \"./ActionType\";\n\ntype PickPaperProps = {\n  pick: number,\n  index: number,\n  resultData: searchResult[]\n}\n\nexport const SEARCH_PAPER = \"SEARCH_PAPER\";\nexport const searchPaperAction = (searchState: searchPaper) => {\n  return {\n    type: \"SEARCH_PAPER\",\n    payload: {\n      word: searchState.word,\n      result: searchState.result\n    }\n  }\n};\n\nexport const PICK_PAPER = \"PICK_PAPER\";\nexport const pickPaperAction = (props: PickPaperProps) => {\n  const { pick, index, resultData } = props;\n  return {\n    type: \"PICK_PAPER\",\n    payload: {\n      result: [...resultData, resultData[index].pick = pick],\n    }\n  }\n}\n\nexport const SEARCH_FAVORITE_PAPER = \"SEARCH_FAVORITE_PAPER\";\nexport const searchFavoritePaperAction = (searchState: SearchFavoritePaper) => {\n  return {\n    type: \"SEARCH_FAVORITE_PAPER\",\n    payload: {\n      recentResult: searchState.recentResult,\n      recentPicks: searchState.recentPicks,\n      favoriteResult: searchState.favoriteResult,\n      favoritePicks: searchState.favoritePicks\n    }\n  }\n}","import { State } from \"./ActionType\";\n\nexport const SKELETON = \"SKELETON\";\nexport const skeletonAction = (state: State) => {\n  return {\n    type: \"SKELETON\",\n    payload: {\n      boolean: state.boolean\n    }\n  }\n};","import { Dispatch } from \"redux\"\nimport axios from 'axios';\nimport { pickPaperAction, searchFavoritePaperAction, searchPaperAction } from \"./Action\";\nimport { Message, searchResult } from \"./ActionType\";\nimport { skeleton } from \"../boolean/Operations\";\nimport { API_ENDPOINT } from \"../../template/apiEndpoint\";\n\ntype searchPapersProps = {\n  word: string,\n  period: string | null,\n  showMessage: (props: Message) => void\n}\n\ntype searchFavoritePapersProps = {\n  showMessage: (props: Message) => void\n}\n\ntype pickPaperProps = {\n  result: [number, string],\n  index: number,\n  resultData: searchResult[]\n  showMessage: (props: Message) => void\n}\n\nexport const searchPapers = (props: searchPapersProps) => {\n  return async (dispatch: Dispatch<any>) => {\n    const { word, period, showMessage } = props;\n    dispatch(skeleton());\n    await axios.post(`${API_ENDPOINT}/search`, {word, period})\n    .then((result) => {\n      dispatch(searchPaperAction({\n        word,\n        result: result.data\n      }))\n    })\n    .catch((error) => {\n      // 要日本語対応\n      showMessage({title: error.message, status: \"error\"})\n    })\n    .finally(() => dispatch(skeleton()))\n  }\n}\n\nexport const pickPaper = (props: pickPaperProps) => {\n  return (dispatch: Dispatch<any>) => {\n    const { result, index, resultData, showMessage } = props;\n    const [pick, title] = result;\n    const status = title === \"正常にPickできました\" ? \"success\" : \"error\";\n    dispatch(pickPaperAction({pick, index, resultData}));\n    showMessage({title, status});\n  }\n}\n\nexport const searchFavoritePapers = (props: searchFavoritePapersProps) => {\n  return (dispatch: Dispatch<any>) => {\n    const { showMessage } = props;\n    axios.get(`${API_ENDPOINT}/search`)\n    .then((result) => {\n      dispatch(searchFavoritePaperAction({\n        recentResult: result.data.recent,\n        recentPicks: result.data.recent_pick,\n        favoriteResult: result.data.favorite,\n        favoritePicks: result.data.favorite_picks\n      }))\n    })\n    .catch((error) => {\n      showMessage({title: error.message, status: \"error\"})\n    })\n  }\n}","import { Dispatch } from \"react\";\nimport { skeletonAction } from \"./Action\";\n\nexport const skeleton = () => {\n  return (dispatch: Dispatch<any>, getState: any) => {\n    const state = getState();\n    const boolean = state.boolean.boolean;\n    dispatch(skeletonAction({boolean: !boolean}))\n  }\n}","import { Flex, Input, InputGroup, InputLeftElement, InputRightElement } from \"@chakra-ui/react\"\nimport { ChangeEvent, KeyboardEvent, memo, useState, VFC } from \"react\";\nimport { FaSearch, FaTimes } from \"react-icons/fa\";\nimport { useDispatch } from \"react-redux\";\n\nimport { useMessage } from \"../../hooks/useMessage\";\nimport { searchPapers } from \"../../redux/search/Operations\";\n\ntype Props = {\n  period: string,\n  bool: boolean\n}\n\nexport const SearchInput: VFC<Props> = memo((props) => {\n  const { period, bool } = props;\n  const [word, setWord] = useState('')\n  const dispatch = useDispatch();\n  const { showMessage } = useMessage();\n\n  const handleChangeInput = (e: ChangeEvent<HTMLInputElement>) => setWord(e.target.value)\n\n  const handleClickSearch = () => {\n    if (bool) {\n      dispatch(searchPapers({word, period, showMessage}));\n    } else {\n      dispatch(searchPapers({word, period: \"-1\", showMessage}));\n    }\n  }\n\n  const handleKeyPressSearch = (e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\") {\n      handleClickSearch()\n    }\n  }\n\n  const handleDeleteWord = () => {\n    setWord('')\n  }\n\n  return (\n    <Flex justify=\"center\" mt=\"12\">\n      <InputGroup w=\"60%\" maxW=\"880px\">\n        <InputLeftElement\n          children={<FaSearch color=\"#EAEAEA\" />}\n          onClick={handleClickSearch}\n          _hover={{cursor: \"pointer\"}}\n        />\n        <Input\n          borderRadius=\"0\"\n          value={word}\n          onChange={handleChangeInput}\n          onKeyPress={(e) => handleKeyPressSearch(e)}\n        />\n        {\n          word ? (\n            <InputRightElement\n              children={<FaTimes color=\"#EAEAEA\" />}\n              onClick={handleDeleteWord}\n              _hover={{cursor: \"pointer\"}}\n              _active={{top: \"2px\"}}\n            />\n          ) : null\n        }\n      </InputGroup>\n    </Flex>\n  )\n})","import { Box, Flex, Heading, NumberDecrementStepper, NumberIncrementStepper, NumberInput, NumberInputField, NumberInputStepper, Text } from \"@chakra-ui/react\";\nimport { memo, VFC } from \"react\";\n\ntype Props = {\n  title: string,\n  maxW: number,\n  value?: string,\n  defaultValue?: string,\n  min: number,\n  max?: number,\n  bool?: boolean,\n  setBool?: {\n    on: () => void,\n    off: () => void,\n    toggle: () => void\n  },\n  onChange?: (valueAsString: string) => void\n}\n\nexport const SearchCondition: VFC<Props> = memo((props) => {\n  const { title, maxW, value, defaultValue, min, max, bool=true, setBool, onChange } = props;\n  return (\n    <Box my=\"4\">\n      <Heading as=\"h3\" fontSize=\"sm\" fontWeight=\"normal\">{title}</Heading>\n      {\n        bool ? (\n          <>\n            <Flex mx=\"1\">\n              <NumberInput\n                size=\"xs\"\n                variant=\"flushed\"\n                maxW={maxW}\n                value={value}\n                defaultValue={defaultValue}\n                min={min}\n                max={max}\n                onChange={onChange}\n              >\n                <NumberInputField borderRadius=\"none\" />\n                <NumberInputStepper>\n                  <NumberIncrementStepper border=\"none\" />\n                  <NumberDecrementStepper border=\"none\" />\n                </NumberInputStepper>\n              </NumberInput>\n              <Text ml=\"4\">~</Text>\n            </Flex>\n            {\n              title === \"期間\" ? (\n                <Text\n                  fontSize=\"xs\"\n                  mt=\"1\"\n                  mx=\"1\"\n                  onClick={setBool?.toggle}\n                  _hover={{cursor: \"pointer\", textDecoration: \"underline\"}}\n                >\n                  条件を指定しない\n                </Text>\n              ) : null\n            }\n          </>\n        ) : (\n          <Text\n            fontSize=\"xs\"\n            mt=\"2\"\n            onClick={setBool?.toggle}\n            _hover={{cursor: \"pointer\", textDecoration: \"underline\"}}\n          >\n            条件を指定\n          </Text>\n        )\n      }\n    </Box>\n  )\n})","import { Box, Text } from \"@chakra-ui/react\";\nimport { memo, VFC } from \"react\";\n\nimport { SearchCondition } from \"../../molecules/searchCondition\";\n\ntype Props = {\n  period: string,\n  thisYear: number,\n  periodBool: boolean,\n  setPeriodBool: {\n    on: () => void,\n    off: () => void,\n    toggle: () => void\n  },\n  handlePeriod: (valueAsString: string) => void\n}\n\nexport const Condition: VFC<Props> = memo((props) => {\n  const { period, thisYear, periodBool, setPeriodBool, handlePeriod } = props;\n  return (\n    <Box w=\"12%\" h=\"100%\">\n      <Box ml=\"5\" my=\"10\">\n        <Text fontSize=\"md\">検索条件</Text>\n        <SearchCondition\n          title=\"期間\"\n          maxW={16}\n          value={period}\n          min={1900}\n          max={thisYear}\n          bool={periodBool}\n          setBool={setPeriodBool}\n          onChange={handlePeriod}\n        />\n        <SearchCondition\n          title=\"引用数\"\n          maxW={14}\n          defaultValue={\"0\"}\n          min={0}\n        />\n      </Box>\n    </Box>\n  )\n})","import { memo, VFC } from \"react\";\nimport {\n  Box,\n  Flex,\n  Link,\n  LinkBox,\n  Text,\n} from \"@chakra-ui/react\";\nimport { FaRegBookmark } from \"react-icons/fa\";\n\nimport { favoriteData } from \"../../../redux/search/ActionType\";\n\ntype Props = {\n  data: favoriteData\n  i: number\n  pickData: Number[]\n}\n\nexport const ResultData: VFC<Props> = memo((props) => {\n  const { data, i, pickData } = props;\n\n  return (\n    <Box key={i} px=\"5\" py=\"3\" style={(i % 2 === 0) ? {backgroundColor: \"#FAFAFA\"} : {background: \"#EAEAEA\"}}>\n      <Link\n        fontSize=\"lg\"\n        fontWeight=\"bold\"\n        color=\"#0055AA\"\n        href={data.url}\n        isExternal\n      >\n        {data.title}\n      </Link>\n      <Text fontSize=\"sm\" mt=\"1\" mw=\"100%\">\n        {data.abstract}\n      </Text>\n      <Text fontSize=\"xs\" color=\"#406B15\">\n        {data.writer}・{data.year}・{data.publisher}\n      </Text>\n      <Text fontSize=\"xs\" mt=\"1\">\n        <Flex align=\"center\">\n          <LinkBox>\n            <Flex align=\"center\">\n              <FaRegBookmark />\n              <Text>\n                Pick数: {pickData[i]}\n              </Text>\n            </Flex>\n          </LinkBox>\n          <Text mx={2}>引用数: {data.citations}</Text>\n          <Link\n            href=\"//twitter.com/share\"\n            className=\"twitter-share-button\"\n            data-text={data.title}\n            data-hashtags=\"PaperPicks\"\n            data-url={data.url}\n            data-lang=\"ja\"\n          >ツイート</Link>\n        </Flex>\n      </Text>\n    </Box>\n  )\n})","import {\n  Box,\n  TabList,\n  Tab,\n  TabPanel,\n  TabPanels,\n  Tabs,\n} from \"@chakra-ui/react\";\nimport { memo, useEffect, VFC } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { useMessage } from \"../../../hooks/useMessage\";\nimport { searchFavoritePapers } from \"../../../redux/search/Operations\";\nimport {\n  favoritePicksSelector,\n  favoriteResultSelector,\n  recentPicksSelector,\n  recentResultSelector\n} from \"../../../redux/search/selectors\";\nimport { Selector } from \"../../../redux/search/ActionType\";\nimport { ResultData } from \"./resultData\";\n\nexport const DefaultView: VFC = memo(() => {\n  const dispatch = useDispatch();\n  const { showMessage } = useMessage()\n  const selector = useSelector((state: Selector) => state)\n  const favoritePicks = favoritePicksSelector(selector)\n  const favoriteData = favoriteResultSelector(selector)\n  const recentPicks = recentPicksSelector(selector)\n  const recentData = recentResultSelector(selector)\n\n  useEffect(() => {\n    dispatch(searchFavoritePapers({showMessage}))\n  }, [dispatch, showMessage])\n\n  return (\n    <Box w=\"65%\" maxW=\"700px\" mb=\"16\">\n      <Tabs variant=\"enclosed\" px=\"5\" py=\"3\">\n        <TabList>\n          <Tab>人気の論文</Tab>\n          <Tab>最近Pickされた論文</Tab>\n        </TabList>\n        <TabPanels>\n          <TabPanel>\n            {favoriteData.map((data, i) => (\n              <ResultData\n                data={data}\n                i={i}\n                pickData={favoritePicks}\n              />\n            ))}\n          </TabPanel>\n          <TabPanel>\n            {recentData.map((data, i) => (\n              <ResultData\n                data={data}\n                i={i}\n                pickData={recentPicks}\n              />\n            ))}\n          </TabPanel>\n        </TabPanels>\n      </Tabs>\n    </Box>\n  )\n})","import { Selector } from './ActionType';\n\nexport const searchResultSelector = (state: Selector) => state.search.result;\nexport const favoritePicksSelector = (state: Selector) => state.search.favoritePicks;\nexport const favoriteResultSelector = (state: Selector) => state.search.favoriteResult;\nexport const recentPicksSelector = (state: Selector) => state.search.recentPicks;\nexport const recentResultSelector = (state: Selector) => state.search.recentResult;","import { Box, Flex, Link, LinkBox, Text } from \"@chakra-ui/react\";\nimport { memo, useCallback, VFC } from \"react\";\nimport { FaRegBookmark } from \"react-icons/fa\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport axios from \"axios\";\n\nimport { searchResult, SendPickData } from \"../../../redux/search/ActionType\";\nimport { Selector as UserSelector } from \"../../../redux/users/ActionType\";\n\nimport auth from \"../../../firebase\";\nimport { useMessage } from \"../../../hooks/useMessage\";\nimport { pickPaper } from \"../../../redux/search/Operations\";\nimport { getUserState } from \"../../../redux/users/selectors\";\nimport { API_ENDPOINT } from \"../../../template/apiEndpoint\";\n\ntype Props = {\n  resultData: searchResult[]\n}\n\nexport const Result: VFC<Props> = memo((props) => {\n  const { resultData } = props;\n  const currentUser = auth.currentUser\n  const uid = currentUser?.uid\n\n  const userSelector = useSelector((state: UserSelector) => state)\n  const userStatus = getUserState(userSelector)\n\n  const { showMessage } = useMessage();\n  const dispatch = useDispatch();\n\n  // resultDataが更新されたらPoint計算をし、ソートする\n  useCallback(() => {\n    resultData.map((data) => (\n      data.point = data.citations * 100 + data.pick * data.coefficient\n    ))\n    resultData.sort((a,b) => {\n      if (a.point > b.point) return -1\n      if (a.point < b.point) return 1\n      return 0\n    })\n    console.table(resultData)\n  }, [resultData])\n\n  const handleClickPickCount = async (result: SendPickData, i: number) => {\n    const {title, abstract, writer, year, publisher, citations, url} = result\n    await axios.post(`${API_ENDPOINT}/picks`, {\n      title,\n      abstract,\n      writer,\n      year,\n      publisher,\n      citations,\n      url,\n      uid\n    })\n    .then((res) => {\n      const props = {\n        result: res.data,\n        index: i,\n        resultData,\n        showMessage\n      }\n      dispatch((pickPaper(props)))\n    })\n    .catch(() => {\n      showMessage({title: \"Pickできませんでした。\", status: \"error\"})\n    })\n  }\n\n  const pickFunction = (result: SendPickData, i: number) => {\n    userStatus ?\n      handleClickPickCount(result, i) :\n      showMessage({title: \"ログインユーザーのみこの機能を使えます\", status: \"error\"})\n  }\n\n  return (\n    <Box w=\"65%\" maxW=\"700px\" mb=\"16\">\n      {resultData.map((res, i) => (\n        <Box key={i} px=\"5\" py=\"3\" style={(i % 2 === 0) ? {backgroundColor: \"#FAFAFA\"} : {background: \"#EAEAEA\"}}>\n          <Link\n            fontSize=\"lg\"\n            fontWeight=\"bold\"\n            color=\"#0055AA\"\n            href={res.url}\n            isExternal\n          >\n            {res.title}\n          </Link>\n          <Text fontSize=\"sm\" mt=\"1\" mw=\"100%\">\n            {res.abstract}\n          </Text>\n          <Text fontSize=\"xs\" color=\"#406B15\">\n            {res.writer}・{res.year}・{res.publisher}\n          </Text>\n          <Text fontSize=\"xs\" mt=\"1\">\n            <Flex align=\"center\">\n              <LinkBox>\n                <Flex align=\"center\">\n                  <FaRegBookmark />\n                  <Text\n                    onClick={() => pickFunction(res, i)}\n                    _hover={{textDecoration: \"underline\", cursor: \"pointer\"}}>\n                    Pick数: {res.pick}\n                  </Text>\n                </Flex>\n              </LinkBox>\n              <Text mx={2}>引用数: {res.citations}</Text>\n              <Link\n                href=\"//twitter.com/share\"\n                className=\"twitter-share-button\"\n                data-text={res.title}\n                data-hashtags=\"PaperPicks\"\n                data-url={res.url}\n                data-lang=\"ja\"\n              >ツイート</Link>\n            </Flex>\n          </Text>\n        </Box>\n      ))}\n    </Box>\n  )\n})\n","import { createSelector } from \"reselect\";\n\nconst booleanSelector = (boolean: boolean) => boolean;\n\nexport const getSkeleton = createSelector(\n  [booleanSelector],\n  (boolean: boolean) => boolean\n)","import { Box, Flex, Skeleton, useBoolean } from \"@chakra-ui/react\";\nimport { useState } from \"react\";\nimport { memo, VFC } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Selector } from \"../../redux/search/ActionType\";\nimport { Selector as SkeletonSelector } from \"../../redux/boolean/ActionType\";\nimport { searchResultSelector } from \"../../redux/search/selectors\";\n\nimport { SearchInput } from \"../molecules/searchInput\";\nimport { Condition } from \"../organisms/search/condition\";\nimport { DefaultView } from \"../organisms/search/defautView\";\nimport { Result } from \"../organisms/search/result\";\nimport { getSkeleton } from \"../../redux/boolean/selectors\";\n\nexport const searchPaper: VFC = memo(() => {\n  const thisYear = new Date().getFullYear();\n  const tenYearsAgo = `${thisYear - 10}`\n  const [period, setPeriod] = useState(tenYearsAgo);\n  const [periodBool, setPeriodBool] = useBoolean();\n\n  const searchSelector = useSelector((state: Selector) => state);\n  const resultData = searchResultSelector(searchSelector);\n\n  const skeletonSelector = useSelector((state: SkeletonSelector) => state.boolean.boolean);\n  const skeleton = getSkeleton(skeletonSelector);\n\n  const handlePeriod = (valueAsString: string) => setPeriod(valueAsString);\n\n  return (\n    <Box w=\"80%\">\n      <SearchInput period={period} bool={periodBool} />\n      <Flex mt={8} justify=\"center\">\n        <Condition\n          period={period}\n          thisYear={thisYear}\n          periodBool={periodBool}\n          setPeriodBool={setPeriodBool}\n          handlePeriod={handlePeriod}\n        />\n        {!skeleton ? (\n          <Box w=\"65%\" maxW=\"700px\" mb=\"16\">\n            {[...Array(10)].map((_, i) => (\n              <Box key={i} px=\"5\" py=\"3\" style={(i % 2 === 0) ? {backgroundColor: \"#FAFAFA\"} : {background: \"#EAEAEA\"}}>\n                <Skeleton height=\"25px\" />\n                <Skeleton height=\"13px\" mt=\"6px\" />\n                <Skeleton height=\"13px\" mt=\"7px\" />\n                <Skeleton height=\"13px\" mt=\"7px\" />\n                <Skeleton height=\"8px\" mt=\"10px\" />\n              </Box>\n            ))}\n          </Box>\n        ) : (\n          <>\n            {resultData.length ? (\n              <Result\n                resultData={resultData}\n              />\n            ) : (\n              <DefaultView />\n            )}\n          </>\n        )}\n      </Flex>\n    </Box>\n  )\n})","import { memo } from \"react\"\nimport { Divider, Flex, Text } from \"@chakra-ui/react\"\n\nexport const DivideLineSocialButton = memo(() => {\n  return (\n    <Flex my=\"2\">\n      <Divider my=\"4\" />\n      <Text mx=\"4\" my=\"1\">or</Text>\n      <Divider my =\"4\" />\n    </Flex>\n  )\n})","import { memo } from \"react\"\nimport { Button, Flex, Image } from \"@chakra-ui/react\"\n\nexport const GoogleButton = memo(() => {\n  return (\n    <Flex\n      my={2}\n      pr={3}\n      align=\"center\"\n      justify=\"center\"\n      boxShadow=\"base\"\n      _hover={{cursor: \"pointer\", bg: \"#efefef\", transition: 3}}\n    >\n      <Image\n        src={`${process.env.PUBLIC_URL}/google.svg`}\n        alt=\"Google Logo\"\n        />\n      <Button\n        p=\"0\"\n        color=\"#333333\"\n        colorScheme=\"white\"\n      >Sign Up with Google</Button>\n    </Flex>\n  )\n})","import { memo } from \"react\"\nimport { Button } from \"@chakra-ui/react\"\nimport { FaTwitter } from \"react-icons/fa\"\n\nexport const TwitterButton = memo(() => {\n  return (\n    <Button\n      my={2}\n      colorScheme=\"twitter\"\n      borderRadius=\"0\"\n      isFullWidth\n      leftIcon={<FaTwitter />}\n      shadow=\"base\"\n    >Sign Up with Twitter</Button>\n  )\n})","import { Box, Button, FormControl, FormLabel, Input, InputGroup, InputRightElement, Stack, Text } from \"@chakra-ui/react\";\nimport { useState } from \"react\";\nimport { memo, VFC } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { FaEye, FaEyeSlash } from \"react-icons/fa\";\nimport { useDispatch } from \"react-redux\";\n\nimport { useMessage } from \"../../../hooks/useMessage\";\nimport { signIn } from \"../../../redux/users/Operations\";\n\ntype IFormInput = {\n  email: string;\n  password: string;\n}\n\nexport const LoginInput: VFC = memo(() => {\n  const [showPassword, setShowPassword] = useState(false);\n\n  const { formState: { errors }, register, handleSubmit } = useForm<IFormInput>();\n  const dispatch = useDispatch();\n  const { showMessage } = useMessage();\n\n  const onSubmit = (data: IFormInput) => {\n    const { email, password } = data;\n    dispatch(signIn({email, password, showMessage}))\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <Stack>\n        <FormControl isRequired>\n          <FormLabel>メールアドレス</FormLabel>\n          <Input\n            placeholder={\"メールアドレスを入力してください\"}\n            size=\"lg\"\n            borderRadius=\"0\"\n            {...register(\"email\", {\n              required: \"メールアドレスは必須です。\",\n              pattern: {\n                value: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n                message: \"メールアドレス形式で入力してください。\",\n              },\n            })}\n          />\n          {\n            errors.email && errors.email.type === \"required\" ?\n            <Text fontSize=\"xs\" color=\"red.500\">※メールアドレスは必須です。</Text> : errors.email && errors.email.message === \"メールアドレス形式で入力してください。\" ?\n            <Text fontSize=\"xs\" color=\"red.500\">※メールアドレス形式で入力してください。</Text> :<Box h=\"1rem\"></Box>\n          }\n        </FormControl>\n        <FormControl isRequired>\n          <FormLabel>パスワード</FormLabel>\n          <InputGroup>\n            <Input\n              placeholder={\"パスワードを入力してください\"}\n              size=\"lg\"\n              type={showPassword ? \"text\" : \"password\"}\n              borderRadius=\"0\"\n              {...register(\"password\", {\n                required: true\n              })}\n            />\n            <InputRightElement\n              my={1}\n              onClick={() => setShowPassword(!showPassword)}\n              children={showPassword ? <FaEye /> : <FaEyeSlash />}\n            />\n          </InputGroup>\n          {errors.password ? <Text fontSize=\"xs\" color=\"red.500\">※パスワードは必須です。</Text> : <Box h=\"1rem\"></Box>}\n        </FormControl>\n      </Stack>\n      <Button\n        mt=\"3\"\n        bg=\"#406B15\"\n        color=\"white\"\n        type=\"submit\"\n        borderRadius=\"0\"\n        _hover={{opacity: 0.8}}\n        isFullWidth\n      >ログイン</Button>\n    </form>\n  )\n})","import { Box, Center, Flex, Heading } from \"@chakra-ui/react\"\nimport { memo, VFC } from \"react\"\n\nimport { DivideLineSocialButton } from \"../atoms/divideLineSocialButton\"\nimport { GoogleButton } from \"../atoms/googleButton\"\nimport { TwitterButton } from \"../atoms/twitterButton\"\nimport { LoginInput } from \"../organisms/user/loginInput\"\n\n\nexport const UserLogin: VFC = memo(() => {\n  return (\n    <Flex w=\"80%\" align=\"center\" justify=\"center\">\n      <Box w=\"600px\" border=\"1px\" borderColor=\"gray.200\" p=\"4\">\n        <Center>\n          <Heading as=\"h1\" size=\"lg\" my=\"4\">ログイン</Heading>\n        </Center>\n        <Box mx=\"10\">\n          <LoginInput />\n          <DivideLineSocialButton />\n          <TwitterButton />\n          <GoogleButton />\n        </Box>\n      </Box>\n    </Flex>\n  )\n})","import { Box, Button, FormControl, FormLabel, Input, InputGroup, InputRightElement, Stack, Text } from \"@chakra-ui/react\";\nimport { memo, useState, VFC } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { FaEye, FaEyeSlash } from \"react-icons/fa\";\nimport { useDispatch } from \"react-redux\";\n\nimport { useMessage } from \"../../../hooks/useMessage\";\nimport { signUp } from \"../../../redux/users/Operations\";\n\ntype IFormInput = {\n  userName: string;\n  email: string;\n  password: string;\n  passwordConf: string;\n}\n\nexport const RegistrationInput: VFC = memo(() => {\n  const [showPass, setShowPass] = useState(false)\n  const [showPassConf, setShowPassConf] = useState(false)\n\n  const { formState: { errors }, register, handleSubmit } = useForm<IFormInput>();\n  const { showMessage } = useMessage();\n  const dispatch = useDispatch();\n\n  const onSubmit = (data: IFormInput) => {\n    const { userName, email, password, passwordConf } = data;\n    if (password === passwordConf) {\n      dispatch(signUp({username: userName, email, password, showMessage}));\n    } else {\n      showMessage({title: \"パスワードとパスワード（確認用）が異なります。\", status: \"error\"});\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <Stack>\n        <FormControl isRequired>\n          <FormLabel>ユーザー名</FormLabel>\n          <Input\n            placeholder={\"ユーザー名を入力してください\"}\n            size=\"lg\"\n            borderRadius=\"0\"\n            {...register(\"userName\", {\n              required: true\n            })}\n          />\n          {errors.userName ? <Text fontSize=\"xs\" color=\"red.500\">※ユーザー名は必須です。</Text> : <Box h=\"1rem\"></Box>}\n        </FormControl>\n        <FormControl isRequired>\n          <FormLabel>メールアドレス</FormLabel>\n          <Input\n            placeholder={\"メールアドレスを入力してください\"}\n            size=\"lg\"\n            borderRadius=\"0\"\n            {...register(\"email\", {\n              required: \"メールアドレスは必須です。\",\n              pattern: {\n                value: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n                message: \"メールアドレス形式で入力してください。\",\n              },\n            })}\n          />\n          {\n            errors.email && errors.email.type === \"required\" ?\n            <Text fontSize=\"xs\" color=\"red.500\">※メールアドレスは必須です。</Text> : errors.email && errors.email.message === \"メールアドレス形式で入力してください。\" ?\n            <Text fontSize=\"xs\" color=\"red.500\">※メールアドレス形式で入力してください。</Text> :<Box h=\"1rem\"></Box>\n          }\n        </FormControl>\n        <FormControl isRequired>\n          <FormLabel>パスワード</FormLabel>\n          <InputGroup>\n            <Input\n              placeholder={\"パスワードを入力してください\"}\n              size=\"lg\"\n              type={showPass ? \"text\" : \"password\"}\n              borderRadius=\"0\"\n              {...register(\"password\", {\n                required: true\n              })}\n            />\n            <InputRightElement\n              my={1}\n              onClick={() => setShowPass(!showPass)}\n              children={showPass ? <FaEye /> : <FaEyeSlash />}\n            />\n          </InputGroup>\n          {errors.password ? <Text fontSize=\"xs\" color=\"red.500\">※パスワードは必須です。</Text> : <Box h=\"1rem\"></Box>}\n        </FormControl>\n        <FormControl isRequired>\n          <FormLabel>パスワード（確認用）</FormLabel>\n          <InputGroup>\n            <Input\n              placeholder={\"パスワード（確認用）を入力してください\"}\n              size=\"lg\"\n              type={showPassConf ? \"text\" : \"password\"}\n              borderRadius=\"0\"\n              {...register(\"passwordConf\", {\n                required: true\n              })}\n            />\n            <InputRightElement\n              my={1}\n              onClick={() => setShowPassConf(!showPassConf)}\n              children={showPassConf ? <FaEye /> : <FaEyeSlash />}\n            />\n          </InputGroup>\n          {errors.passwordConf ? <Text fontSize=\"xs\" color=\"red.500\">※パスワード（確認用）は必須です。</Text> : <Box h=\"1rem\"></Box>}\n        </FormControl>\n      </Stack>\n      <Button\n        mt=\"3\"\n        bg=\"#406B15\"\n        color=\"white\"\n        type=\"submit\"\n        borderRadius=\"0\"\n        _hover={{opacity: 0.8}}\n        isFullWidth\n      >登録</Button>\n    </form>\n  )\n})","import { VFC } from \"react\";\nimport { Box, Center, Flex, Heading } from \"@chakra-ui/react\";\n\nimport { RegistrationInput } from \"../organisms/user/registrationInput\";\nimport { TwitterButton } from \"../atoms/twitterButton\";\nimport { DivideLineSocialButton } from \"../atoms/divideLineSocialButton\";\nimport { GoogleButton } from \"../atoms/googleButton\";\n\nexport const UserRegistration: VFC = () =>{\n  return (\n    <Flex w=\"80%\" align=\"center\" justify=\"center\">\n      <Box w=\"600px\" border=\"1px\" borderColor=\"gray.200\" p=\"4\">\n        <Center>\n          <Heading as=\"h1\" size=\"lg\" my=\"4\">新規登録</Heading>\n        </Center>\n        <Box mx=\"10\">\n          <RegistrationInput />\n          <DivideLineSocialButton />\n          <TwitterButton />\n          <GoogleButton />\n        </Box>\n      </Box>\n    </Flex>\n  )\n}","import { VFC, memo, useEffect, useState } from \"react\";\nimport { Box, Flex, Heading, Link, Text } from \"@chakra-ui/react\";\nimport Avatar from \"react-nice-avatar\"\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\n\nimport { Selector } from \"../../../redux/users/ActionType\";\nimport { getAvatar, getUserName } from \"../../../redux/users/selectors\";\nimport auth from \"../../../firebase\";\nimport { SendPickData } from \"../../../redux/search/ActionType\";\nimport { API_ENDPOINT } from \"../../../template/apiEndpoint\";\n\nexport const PickedPaper: VFC = memo(() => {\n  const [pickedData, setPickedData] = useState<any>([])\n  const selector = useSelector((state: Selector) => state);\n  const userName = getUserName(selector);\n  const avatar = getAvatar(selector)\n  const currentUserId = auth.currentUser?.uid;\n\n  useEffect(() => {\n    axios.post(`${API_ENDPOINT}/picks/users`, {uid: currentUserId})\n    .then((res) => {\n      setPickedData(res.data)\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }, [currentUserId])\n\n  return (\n    <Flex w=\"80%\" align=\"center\">\n      <Box w=\"30%\" position=\"fixed\">\n        <Avatar\n          {...avatar}\n          style={{width: \"12rem\", height: \"12rem\"}}\n          shape=\"rounded\"\n        />\n        <Heading as=\"h1\" fontSize=\"lg\" mt=\"2\">{userName}</Heading>\n        <Text color=\"gray.500\">ID：{currentUserId}</Text>\n      </Box>\n      <Box ml=\"30%\" my=\"12\">\n        <Heading as=\"h1\" fontSize=\"2xl\">Pickした論文一覧</Heading>\n        {pickedData.length ? (\n          <Box mt=\"8\" w=\"100%\">\n            {pickedData.map((res: SendPickData, i: number) => (\n              <Box key={i} px=\"5\" py=\"3\" style={(i % 2 === 0) ? {backgroundColor: \"#FAFAFA\"} : {background: \"#EAEAEA\"}}>\n                <Link\n                  fontSize=\"lg\"\n                  fontWeight=\"bold\"\n                  color=\"#0055AA\"\n                  href={res.url}\n                  isExternal\n                >\n                  {res.title}\n                </Link>\n                <Text fontSize=\"sm\" mt=\"1\" mw=\"100%\">\n                  {res.abstract}\n                </Text>\n                <Text fontSize=\"xs\" color=\"#406B15\">\n                  {res.writer}・{res.year}・{res.publisher}\n                </Text>\n                <Text fontSize=\"xs\" mt={1}>\n                  <Flex align=\"center\">\n                    <Text>引用数: {res.citations}</Text>\n                    <Link\n                      href=\"//twitter.com/share\"\n                      className=\"twitter-share-button\"\n                      data-text={res.title}\n                      data-hashtags=\"PaperPicks\"\n                      data-url={res.url}\n                      data-lang=\"ja\"\n                      mx={3}\n                    >ツイート</Link>\n                  </Flex>\n                </Text>\n              </Box>\n            ))}\n          </Box>\n        ) : (\n          <Box mt=\"8\" w=\"100%\">\n            <Text fontWeight=\"bold\">Pickした論文がありません</Text>\n          </Box>\n        )}\n      </Box>\n    </Flex>\n  )\n})","import { Flex, Text } from \"@chakra-ui/react\";\nimport { memo, VFC } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useLocation } from \"react-router\";\n\nimport auth from \"../../firebase\";\nimport { Selector } from \"../../redux/users/ActionType\";\nimport { getUserState } from \"../../redux/users/selectors\";\nimport { PickedPaper } from \"../organisms/user/pickedPaper\";\n\nexport const UserShow: VFC = memo(() => {\n  const selector = useSelector((state: Selector) => state);\n  const userStatus = getUserState(selector);\n  const currentUserId = auth.currentUser?.uid;\n  const location = useLocation();\n\n  return (\n    <Flex w=\"80%\" align=\"center\" justify=\"center\">\n      {userStatus && location.pathname === `/users/${currentUserId}` && (\n        <PickedPaper />\n      )}\n      {userStatus && location.pathname !== `/users/${currentUserId}` && (\n        <Text fontWeight=\"bold\">自身のプロフィールページしか閲覧できません</Text>\n      )}\n      {userStatus || (\n        <Text fontWeight=\"bold\">ログインしてください</Text>\n      ) }\n    </Flex>\n  )\n})","import { memo, useEffect, useState, VFC } from \"react\"\nimport { Helmet } from \"react-helmet\"\nimport { useLocation } from \"react-router\";\n\nexport const Title: VFC = memo(() => {\n  const [titleName, setTitleName] = useState(\"\")\n  const location = useLocation();\n  const path = location.pathname\n\n  // pathが変わる度にtitleNameを更新\n  useEffect(() => {\n    switch (path) {\n      case \"/\":\n        setTitleName(\"\")\n        break\n      case \"/sign_up\":\n        setTitleName(\"新規登録\")\n        break\n      case \"/sign_in\":\n        setTitleName(\"ログイン\")\n        break\n      case path.startsWith(\"/users/\") && path:\n        setTitleName(\"プロフィール\")\n        break\n      default:\n        setTitleName(\"お探しのページは存在しません\")\n    }\n  }, [path])\n\n  const title = titleName ? `${titleName} | PaperPicks` : \"PaperPicks\"\n\n  return (\n    <Helmet title={title} />\n  )\n})","import { memo, VFC } from \"react\";\nimport { Route, Switch } from \"react-router\";\n\nimport { Page404 } from \"../pages/Page404\";\nimport { searchPaper } from \"../pages/searchPaper\";\nimport { UserLogin } from \"../pages/UserLogin\";\nimport { UserRegistration } from \"../pages/UserRegistration\";\nimport { UserShow } from \"../pages/UserShow\";\nimport { Title } from \"../templates/Title\";\n\nexport const Router: VFC = memo(() => {\n  return (\n    <>\n      <Title />\n      <Switch>\n        <Route exact path=\"/\" component={searchPaper} />\n        <Route exact path=\"/sign_up\" component={UserRegistration} />\n        <Route exact path=\"/sign_in\" component={UserLogin} />\n        <Route path=\"/users/:id\" component={UserShow} />\n        <Route path=\"/*\" component={Page404} />\n      </Switch>\n    </>\n  )\n})","import { ChakraProvider } from \"@chakra-ui/react\";\n\nimport theme from './theme/theme';\nimport { SidebarLayout } from './components/templates/SidebarLayout';\nimport { Router } from './components/router/Router';\n\n\nfunction App() {\n  return (\n    <ChakraProvider theme={theme}>\n      <SidebarLayout>\n        <Router />\n      </SidebarLayout>\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n","export const initialState = {\n  users: {\n    isSignedIn: false,\n    id: \"\",\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    avatar: []\n  },\n  searchPapers: {\n    word: \"\",\n    result: [],\n    recentResult: [],\n    recentPicks: [],\n    favoriteResult: [],\n    favoritePicks: []\n  },\n  boolean: {\n    boolean: true\n  }\n}","import * as Actions from \"./Action\"\nimport { initialState } from \"../store/InitialState\"\nimport { Action } from \"./ActionType\"\n\nexport const UsersReducer = (state = initialState.users, action: Action) => {\n  switch (action.type) {\n    case Actions.SIGN_UP:\n    case Actions.SIGN_OUT:\n      return {\n        ...state,\n        ...action.payload\n      }\n    default:\n      return state\n  }\n}","import * as Actions from \"./Action\"\nimport { initialState } from \"../store/InitialState\"\nimport { Action } from \"./ActionType\"\n\nexport const SearchPaperReducer = (state = initialState.searchPapers, action: Action) => {\n  switch (action.type) {\n    case Actions.SEARCH_PAPER:\n    case Actions.SEARCH_FAVORITE_PAPER:\n      return {\n        ...state,\n        ...action.payload\n      }\n    case Actions.PICK_PAPER:\n      return {\n        ...action.payload\n      }\n    default:\n      return state\n  }\n}","import { initialState } from \"../store/InitialState\"\nimport * as Actions from \"./Action\"\nimport { Action } from \"./ActionType\"\n\nexport const BooleanReducer = (state = initialState.boolean, action: Action) => {\n  switch (action.type) {\n    case Actions.SKELETON:\n      return {\n        ...state,\n        ...action.payload\n      }\n    default:\n      return state\n  }\n}","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport { ConnectedRouter } from 'connected-react-router';\nimport * as History from 'history'\n\nimport './index.css';\nimport App from './App';\nimport createStore from './redux/store/Store';\n\nconst history = History.createBrowserHistory();\nexport const store = createStore(history);\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <App />\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n","import {\n  createStore as reduxCreateStore,\n  combineReducers,\n  applyMiddleware\n} from \"redux\"\nimport { connectRouter, routerMiddleware } from \"connected-react-router\"\nimport thunk from \"redux-thunk\"\nimport { History } from \"history\"\n\nimport { UsersReducer } from \"../users/Reducers\"\nimport { SearchPaperReducer } from \"../search/Reducers\"\nimport { BooleanReducer } from \"../boolean/Reducers\"\n\nexport default function createStore(history: History) {\n  return reduxCreateStore(\n    combineReducers({\n      router: connectRouter(history),\n      users: UsersReducer,\n      search: SearchPaperReducer,\n      boolean: BooleanReducer\n    }),\n    applyMiddleware(\n      routerMiddleware(history),\n      thunk\n    )\n  )\n}"],"sourceRoot":""}