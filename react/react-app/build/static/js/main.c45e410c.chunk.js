(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{143:function(e,t,r){},169:function(e,t,r){"use strict";r.r(t),r.d(t,"store",(function(){return He}));var n=r(1),a=r(17),c=r(56),s=r.n(c),o=r(65),i=r(48),l=(r(143),r(206)),j=r(185),u=Object(j.a)({styles:{global:{body:{color:"#333333"}}}}),d=r(191),b=r(187),h=r(188),x=r(208),O=r(189),f=r(190),p=r(31),m=r(68),g=function(e){return e.users},y=Object(m.a)([g],(function(e){return e.username})),v=Object(m.a)([g],(function(e){return e.isSignedIn})),w=Object(m.a)([g],(function(e){return e.avatar})),S=r(11),k=r.n(S),C=r(22),A=r(50),E=r.n(A),P=(r(162),r(163),r(97));P.a.initializeApp({apiKey:"AIzaSyCaoKydYF4XfaBgbGsR2E13xxxEgju7wnE",authDomain:"paperpicks.jp",projectId:"paperpicks-2021",storageBucket:"paperpicks-2021.appspot.com",messagingSenderId:"629558374330",appId:"1:629558374330:web:473487b8bdecfdff277783",measurementId:"G-FE82LC04TL"});var z=P.a.auth(),F="SIGN_UP",R=function(e){return{type:"SIGN_UP",payload:{isSignedIn:!0,id:e.id,username:e.username,email:e.email,avatar:e.avatar}}},_="SIGN_OUT",W="https://api.paperpicks.jp/v1",B=[{sex:"man",faceColor:"#F9C9B6",earSize:"big",eyeStyle:"oval",noseStyle:"round",mouthStyle:"peace",shirtStyle:"polo",glassesStyle:"none",hairColor:"#77311D",hairStyle:"thick",hatStyle:"none",hatColor:"#F48150",eyeBrowStyle:"up",shirtColor:"#9287FF",bgColor:"#506AF4"},{sex:"man",faceColor:"#F9C9B6",earSize:"big",eyeStyle:"oval",noseStyle:"round",mouthStyle:"smile",shirtStyle:"polo",glassesStyle:"none",hairColor:"#000",hairStyle:"normal",hatStyle:"turban",hatColor:"#fff",eyeBrowStyle:"up",shirtColor:"#9287FF",bgColor:"linear-gradient(45deg, #1729ff 0%, #ff56f7 100%)"},{sex:"man",faceColor:"#AC6651",earSize:"big",eyeStyle:"smile",noseStyle:"long",mouthStyle:"smile",shirtStyle:"polo",glassesStyle:"square",hairColor:"#000",hairStyle:"thick",hatStyle:"beanie",hatColor:"#D2EFF3",eyeBrowStyle:"up",shirtColor:"#77311D",bgColor:"linear-gradient(90deg, #36cd1c 0%, #68deff 100%)"},{sex:"woman",faceColor:"#F9C9B6",earSize:"big",eyeStyle:"smile",noseStyle:"short",mouthStyle:"smile",shirtStyle:"hoody",glassesStyle:"none",hairColor:"#77311D",hairStyle:"womanShort",hatStyle:"none",hatColor:"#506AF4",eyeBrowStyle:"upWoman",shirtColor:"#9287FF",bgColor:"linear-gradient(45deg, #178bff 0%, #ff6868 100%)"},{sex:"woman",faceColor:"#F9C9B6",earSize:"big",eyeStyle:"smile",noseStyle:"short",mouthStyle:"laugh",shirtStyle:"short",glassesStyle:"none",hairColor:"#000",hairStyle:"womanShort",hatStyle:"none",hatColor:"#D2EFF3",eyeBrowStyle:"upWoman",shirtColor:"#6BD9E9",bgColor:"linear-gradient(45deg, #178bff 0%, #ff6868 100%)"},{sex:"woman",faceColor:"#AC6651",earSize:"small",eyeStyle:"smile",noseStyle:"short",mouthStyle:"laugh",shirtStyle:"hoody",glassesStyle:"none",hairColor:"#000",hairStyle:"womanLong",hatStyle:"none",hatColor:"#000",eyeBrowStyle:"up",shirtColor:"#6BD9E9",bgColor:"#FFEDEF"}],D=r(74),I=r.n(D),N=r(201),M=function(){var e=Object(N.a)();return{showMessage:Object(n.useCallback)((function(t){var r=t.title,n=t.status;e({title:r,status:n,duration:3e3,isClosable:!0,position:"top"})}),[e])}},q=r(3),U=Object(n.memo)((function(){var e,t=Object(a.e)((function(e){return e})),r=v(t),n=null===(e=z.currentUser)||void 0===e?void 0:e.uid,c=Object(a.d)(),s=M();return Object(q.jsxs)(b.a,{w:"20%",minW:"300px",minH:"100vh",maxH:"100%",bg:"#B5C99A",children:[Object(q.jsx)(h.a,{onClick:function(){return c(Object(p.d)("/"))},position:"fixed",children:Object(q.jsx)(x.a,{src:"".concat("","/PaperPicks.png"),alt:"PaperPicks Logo",htmlWidth:"200",mt:"8",ml:"14",_hover:{cursor:"pointer"}})}),r?Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(b.a,{ml:"20",position:"fixed",bottom:"20",children:[Object(q.jsx)(O.a,{fontSize:"lg",fontWeight:"bold",style:{cursor:"pointer"},_hover:{color:"#777"},onClick:function(){return c(Object(p.d)("/users/".concat(n)))},children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"}),Object(q.jsx)(f.a,{w:"200%",mb:"3",borderColor:"#333"}),Object(q.jsx)(O.a,{fontSize:"lg",fontWeight:"bold",style:{cursor:"pointer"},_hover:{color:"#777"},onClick:function(){return c((e=s,function(t,r){var n=r().users.isSignedIn,a=e.showMessage;n?z.signOut().then((function(){t({type:"SIGN_OUT",payload:{isSignedIn:!1,id:"",username:"",email:""}}),t(Object(p.d)("/sign_in")),a({title:"\u6b63\u5e38\u306b\u30ed\u30b0\u30a2\u30a6\u30c8\u3055\u308c\u307e\u3057\u305f\u3002",status:"success"})})).catch((function(){a({title:"\u4e0d\u660e\u306a\u30a8\u30e9\u30fc\u3067\u3059\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",status:"error"})})):a({title:"\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002",status:"error"})}));var e},children:"\u30ed\u30b0\u30a2\u30a6\u30c8"}),Object(q.jsx)(f.a,{w:"200%",mb:"3",borderColor:"#333"})]})}):Object(q.jsxs)(b.a,{ml:"20",position:"fixed",bottom:"20",children:[Object(q.jsx)(O.a,{fontSize:"lg",fontWeight:"bold",style:{cursor:"pointer"},_hover:{color:"#777"},onClick:function(){return c(Object(p.d)("/sign_up"))},children:"\u65b0\u898f\u767b\u9332"}),Object(q.jsx)(f.a,{w:"200%",mb:"3",borderColor:"#333"}),Object(q.jsx)(O.a,{fontSize:"lg",fontWeight:"bold",style:{cursor:"pointer"},_hover:{color:"#777"},onClick:function(){return c(Object(p.d)("/sign_in"))},children:"\u30ed\u30b0\u30a4\u30f3"}),Object(q.jsx)(f.a,{w:"200%",mb:"3",borderColor:"#333"})]})]})})),T=Object(n.memo)((function(e){var t=e.children;return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(d.a,{children:[Object(q.jsx)(U,{}),t]})})})),G=r(34),K=Object(n.memo)((function(){return Object(q.jsx)(d.a,{w:"80%",align:"center",justify:"center",children:Object(q.jsx)(O.a,{fontWeight:"bold",children:"\u304a\u63a2\u3057\u306e\u30da\u30fc\u30b8\u306f\u5b58\u5728\u3057\u307e\u305b\u3093\u3002"})})})),L=r(12),H=r(5),V=r(174),Y=r(204),Z=r(192),J=r(193),$=r(194),X=r(29),Q="SEARCH_PAPER",ee="PICK_PAPER",te="SEARCH_FAVORITE_PAPER",re="SKELETON",ne=function(e){return function(){var t=Object(C.a)(k.a.mark((function t(r){var n,a,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.word,a=e.period,c=e.showMessage,r((function(e,t){e(function(e){return{type:"SKELETON",payload:{boolean:e.boolean}}}({boolean:!t().boolean.boolean}))})),t.next=4,E.a.post("".concat(W,"/search"),{word:n,period:a}).then((function(e){var t;r({type:"SEARCH_PAPER",payload:{word:(t={word:n,result:e.data}).word,result:t.result}})})).catch((function(e){c({title:e.message,status:"error"})})).finally((function(){return r((function(e,t){e(function(e){return{type:"SKELETON",payload:{boolean:e.boolean}}}({boolean:!t().boolean.boolean}))}))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ae=function(e){return function(t){var r=e.result,n=e.index,a=e.resultData,c=e.showMessage,s=Object(H.a)(r,2),o=s[0],i=s[1],l="\u6b63\u5e38\u306bPick\u3067\u304d\u307e\u3057\u305f"===i?"success":"error";t(function(e){var t=e.pick,r=e.index,n=e.resultData;return{type:"PICK_PAPER",payload:{result:[].concat(Object(L.a)(n),[n[r].pick=t])}}}({pick:o,index:n,resultData:a})),c({title:i,status:l})}},ce=Object(n.memo)((function(e){var t=e.period,r=e.bool,c=Object(n.useState)(""),s=Object(H.a)(c,2),o=s[0],i=s[1],l=Object(a.d)(),j=M().showMessage,u=function(){l(ne(r?{word:o,period:t,showMessage:j}:{word:o,period:"-1",showMessage:j}))};return Object(q.jsx)(d.a,{justify:"center",mt:"12",children:Object(q.jsxs)(Z.a,{w:"60%",maxW:"880px",children:[Object(q.jsx)(J.a,{children:Object(q.jsx)(X.d,{color:"#EAEAEA"}),onClick:u,_hover:{cursor:"pointer"}}),Object(q.jsx)($.a,{borderRadius:"0",value:o,onChange:function(e){return i(e.target.value)},onKeyPress:function(e){return function(e){"Enter"===e.key&&u()}(e)}}),o?Object(q.jsx)(J.b,{children:Object(q.jsx)(X.e,{color:"#EAEAEA"}),onClick:function(){i("")},_hover:{cursor:"pointer"},_active:{top:"2px"}}):null]})})})),se=r(195),oe=r(202),ie=Object(n.memo)((function(e){var t=e.title,r=e.maxW,n=e.value,a=e.defaultValue,c=e.min,s=e.max,o=e.bool,i=void 0===o||o,l=e.setBool,j=e.onChange;return Object(q.jsxs)(b.a,{my:"4",children:[Object(q.jsx)(se.a,{as:"h3",fontSize:"sm",fontWeight:"normal",children:t}),i?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(d.a,{mx:"1",children:[Object(q.jsxs)(oe.c,{size:"xs",variant:"flushed",maxW:r,value:n,defaultValue:a,min:c,max:s,onChange:j,children:[Object(q.jsx)(oe.d,{borderRadius:"none"}),Object(q.jsxs)(oe.e,{children:[Object(q.jsx)(oe.b,{border:"none"}),Object(q.jsx)(oe.a,{border:"none"})]})]}),Object(q.jsx)(O.a,{ml:"4",children:"~"})]}),"\u671f\u9593"===t?Object(q.jsx)(O.a,{fontSize:"xs",mt:"1",mx:"1",onClick:null===l||void 0===l?void 0:l.toggle,_hover:{cursor:"pointer",textDecoration:"underline"},children:"\u6761\u4ef6\u3092\u6307\u5b9a\u3057\u306a\u3044"}):null]}):Object(q.jsx)(O.a,{fontSize:"xs",mt:"2",onClick:null===l||void 0===l?void 0:l.toggle,_hover:{cursor:"pointer",textDecoration:"underline"},children:"\u6761\u4ef6\u3092\u6307\u5b9a"})]})})),le=Object(n.memo)((function(e){var t=e.period,r=e.thisYear,n=e.periodBool,a=e.setPeriodBool,c=e.handlePeriod;return Object(q.jsx)(b.a,{w:"12%",h:"100%",children:Object(q.jsxs)(b.a,{ml:"5",my:"10",children:[Object(q.jsx)(O.a,{fontSize:"md",children:"\u691c\u7d22\u6761\u4ef6"}),Object(q.jsx)(ie,{title:"\u671f\u9593",maxW:16,value:t,min:1900,max:r,bool:n,setBool:a,onChange:c}),Object(q.jsx)(ie,{title:"\u5f15\u7528\u6570",maxW:14,defaultValue:"0",min:0})]})})})),je=r(203),ue=r(197),de=Object(n.memo)((function(e){var t=e.data,r=e.i,n=e.pickData;return Object(q.jsxs)(b.a,{px:"5",py:"3",style:r%2===0?{backgroundColor:"#FAFAFA"}:{background:"#EAEAEA"},children:[Object(q.jsx)(h.a,{fontSize:"lg",fontWeight:"bold",color:"#0055AA",href:t.url,isExternal:!0,children:t.title}),Object(q.jsx)(O.a,{fontSize:"sm",mt:"1",mw:"100%",children:t.abstract}),Object(q.jsxs)(O.a,{fontSize:"xs",color:"#406B15",children:[t.writer,"\u30fb",t.year,"\u30fb",t.publisher]}),Object(q.jsx)(O.a,{fontSize:"xs",mt:"1",children:Object(q.jsxs)(d.a,{align:"center",children:[Object(q.jsx)(ue.a,{children:Object(q.jsxs)(d.a,{align:"center",children:[Object(q.jsx)(X.c,{}),Object(q.jsxs)(O.a,{children:["Pick\u6570: ",n[r]]})]})}),Object(q.jsxs)(O.a,{mx:2,children:["\u5f15\u7528\u6570: ",t.citations]}),Object(q.jsx)(h.a,{href:"//twitter.com/share",className:"twitter-share-button","data-text":t.title,"data-hashtags":"PaperPicks","data-url":t.url,"data-lang":"ja",children:"\u30c4\u30a4\u30fc\u30c8"})]})})]},r)})),be=Object(n.memo)((function(){var e=Object(a.d)(),t=M().showMessage,r=Object(a.e)((function(e){return e})),c=r.search.favoritePicks,s=function(e){return e.search.favoriteResult}(r),o=function(e){return e.search.recentPicks}(r),i=function(e){return e.search.recentResult}(r);return Object(n.useEffect)((function(){var r;e((r={showMessage:t},function(e){var t=r.showMessage;E.a.get("".concat(W,"/search")).then((function(t){var r;e({type:"SEARCH_FAVORITE_PAPER",payload:{recentResult:(r={recentResult:t.data.recent,recentPicks:t.data.recent_pick,favoriteResult:t.data.favorite,favoritePicks:t.data.favorite_picks}).recentResult,recentPicks:r.recentPicks,favoriteResult:r.favoriteResult,favoritePicks:r.favoritePicks}})})).catch((function(e){t({title:e.message,status:"error"})}))}))}),[e,t]),Object(q.jsx)(b.a,{w:"65%",maxW:"700px",mb:"16",children:Object(q.jsxs)(je.e,{variant:"enclosed",px:"5",py:"3",children:[Object(q.jsxs)(je.b,{children:[Object(q.jsx)(je.a,{children:"\u4eba\u6c17\u306e\u8ad6\u6587"}),Object(q.jsx)(je.a,{children:"\u6700\u8fd1Pick\u3055\u308c\u305f\u8ad6\u6587"})]}),Object(q.jsxs)(je.d,{children:[Object(q.jsx)(je.c,{children:s.map((function(e,t){return Object(q.jsx)(de,{data:e,i:t,pickData:c})}))}),Object(q.jsx)(je.c,{children:i.map((function(e,t){return Object(q.jsx)(de,{data:e,i:t,pickData:o})}))})]})]})})})),he=Object(n.memo)((function(e){var t=e.resultData,r=z.currentUser,c=null===r||void 0===r?void 0:r.uid,s=Object(a.e)((function(e){return e})),o=v(s),i=M().showMessage,l=Object(a.d)();Object(n.useCallback)((function(){t.map((function(e){return e.point=100*e.citations+e.pick*e.coefficient})),t.sort((function(e,t){return e.point>t.point?-1:e.point<t.point?1:0})),console.table(t)}),[t]);var j=function(){var e=Object(C.a)(k.a.mark((function e(r,n){var a,s,o,j,u,d,b;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.title,s=r.abstract,o=r.writer,j=r.year,u=r.publisher,d=r.citations,b=r.url,e.next=3,E.a.post("".concat(W,"/picks"),{title:a,abstract:s,writer:o,year:j,publisher:u,citations:d,url:b,uid:c}).then((function(e){var r={result:e.data,index:n,resultData:t,showMessage:i};l(ae(r))})).catch((function(){i({title:"Pick\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002",status:"error"})}));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(q.jsx)(b.a,{w:"65%",maxW:"700px",mb:"16",children:t.map((function(e,t){return Object(q.jsxs)(b.a,{px:"5",py:"3",style:t%2===0?{backgroundColor:"#FAFAFA"}:{background:"#EAEAEA"},children:[Object(q.jsx)(h.a,{fontSize:"lg",fontWeight:"bold",color:"#0055AA",href:e.url,isExternal:!0,children:e.title}),Object(q.jsx)(O.a,{fontSize:"sm",mt:"1",mw:"100%",children:e.abstract}),Object(q.jsxs)(O.a,{fontSize:"xs",color:"#406B15",children:[e.writer,"\u30fb",e.year,"\u30fb",e.publisher]}),Object(q.jsx)(O.a,{fontSize:"xs",mt:"1",children:Object(q.jsxs)(d.a,{align:"center",children:[Object(q.jsx)(ue.a,{children:Object(q.jsxs)(d.a,{align:"center",children:[Object(q.jsx)(X.c,{}),Object(q.jsxs)(O.a,{onClick:function(){return function(e,t){o?j(e,t):i({title:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u306e\u307f\u3053\u306e\u6a5f\u80fd\u3092\u4f7f\u3048\u307e\u3059",status:"error"})}(e,t)},_hover:{textDecoration:"underline",cursor:"pointer"},children:["Pick\u6570: ",e.pick]})]})}),Object(q.jsxs)(O.a,{mx:2,children:["\u5f15\u7528\u6570: ",e.citations]}),Object(q.jsx)(h.a,{href:"//twitter.com/share",className:"twitter-share-button","data-text":e.title,"data-hashtags":"PaperPicks","data-url":e.url,"data-lang":"ja",children:"\u30c4\u30a4\u30fc\u30c8"})]})})]},t)}))})})),xe=Object(m.a)([function(e){return e}],(function(e){return e})),Oe=Object(n.memo)((function(){var e=(new Date).getFullYear(),t="".concat(e-10),r=Object(n.useState)(t),c=Object(H.a)(r,2),s=c[0],o=c[1],i=Object(V.a)(),l=Object(H.a)(i,2),j=l[0],u=l[1],h=Object(a.e)((function(e){return e})),x=h.search.result,O=Object(a.e)((function(e){return e.boolean.boolean})),f=xe(O);return Object(q.jsxs)(b.a,{w:"80%",children:[Object(q.jsx)(ce,{period:s,bool:j}),Object(q.jsxs)(d.a,{mt:8,justify:"center",children:[Object(q.jsx)(le,{period:s,thisYear:e,periodBool:j,setPeriodBool:u,handlePeriod:function(e){return o(e)}}),f?Object(q.jsx)(q.Fragment,{children:x.length?Object(q.jsx)(he,{resultData:x}):Object(q.jsx)(be,{})}):Object(q.jsx)(b.a,{w:"65%",maxW:"700px",mb:"16",children:Object(L.a)(Array(10)).map((function(e,t){return Object(q.jsxs)(b.a,{px:"5",py:"3",style:t%2===0?{backgroundColor:"#FAFAFA"}:{background:"#EAEAEA"},children:[Object(q.jsx)(Y.a,{height:"25px"}),Object(q.jsx)(Y.a,{height:"13px",mt:"6px"}),Object(q.jsx)(Y.a,{height:"13px",mt:"7px"}),Object(q.jsx)(Y.a,{height:"13px",mt:"7px"}),Object(q.jsx)(Y.a,{height:"8px",mt:"10px"})]},t)}))})]})]})})),fe=r(200),pe=Object(n.memo)((function(){return Object(q.jsxs)(d.a,{my:"2",children:[Object(q.jsx)(f.a,{my:"4"}),Object(q.jsx)(O.a,{mx:"4",my:"1",children:"or"}),Object(q.jsx)(f.a,{my:"4"})]})})),me=r(205),ge=Object(n.memo)((function(){return Object(q.jsxs)(d.a,{my:2,pr:3,align:"center",justify:"center",boxShadow:"base",_hover:{cursor:"pointer",bg:"#efefef",transition:3},children:[Object(q.jsx)(x.a,{src:"".concat("","/google.svg"),alt:"Google Logo"}),Object(q.jsx)(me.a,{p:"0",color:"#333333",colorScheme:"white",children:"Sign Up with Google"})]})})),ye=Object(n.memo)((function(){return Object(q.jsx)(me.a,{my:2,colorScheme:"twitter",borderRadius:"0",isFullWidth:!0,leftIcon:Object(q.jsx)(X.f,{}),shadow:"base",children:"Sign Up with Twitter"})})),ve=r(24),we=r(209),Se=r(76),ke=r(199),Ce=r(89),Ae=Object(n.memo)((function(){var e=Object(n.useState)(!1),t=Object(H.a)(e,2),r=t[0],c=t[1],s=Object(Ce.a)(),o=s.formState.errors,i=s.register,l=s.handleSubmit,j=Object(a.d)(),u=M().showMessage;return Object(q.jsxs)("form",{onSubmit:l((function(e){var t,r=e.email,n=e.password;j((t={email:r,password:n,showMessage:u},function(){var e=Object(C.a)(k.a.mark((function e(r,n){var a,c,s,o,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),c=a.users.isSignedIn,s=t.email,o=t.password,i=t.showMessage,c){e.next=6;break}return e.next=6,z.signInWithEmailAndPassword(s,o).then((function(e){var t;null===(t=e.user)||void 0===t||t.providerData.forEach((function(e){var t,n,a=(null===e||void 0===e||null===(t=e.displayName)||void 0===t?void 0:t.length)?(null===e||void 0===e||null===(n=e.displayName)||void 0===n?void 0:n.length)%6:0;r(R({id:null===e||void 0===e?void 0:e.uid,username:null===e||void 0===e?void 0:e.displayName,email:s,avatar:Object(D.genConfig)(B[a])}))})),r(Object(p.d)("/")),i({title:"\u6b63\u5e38\u306b\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3057\u305f\u3002",status:"success"})})).catch((function(e){"auth/user-not-found"===e.code?i({title:"\u30e6\u30fc\u30b6\u30fc\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002",status:"error"}):"auth/wrong-password"===e.code?i({title:"\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u9593\u9055\u3063\u3066\u3044\u307e\u3059\u3002",status:"error"}):i({title:"\u4e0d\u660e\u306a\u30a8\u30e9\u30fc\u3067\u3059\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",status:"error"})}));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()))})),children:[Object(q.jsxs)(we.a,{children:[Object(q.jsxs)(Se.a,{isRequired:!0,children:[Object(q.jsx)(ke.a,{children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(q.jsx)($.a,Object(ve.a)({placeholder:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",size:"lg",borderRadius:"0"},i("email",{required:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u5fc5\u9808\u3067\u3059\u3002",pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}}))),o.email&&"required"===o.email.type?Object(q.jsx)(O.a,{fontSize:"xs",color:"red.500",children:"\u203b\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u5fc5\u9808\u3067\u3059\u3002"}):o.email&&"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"===o.email.message?Object(q.jsx)(O.a,{fontSize:"xs",color:"red.500",children:"\u203b\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}):Object(q.jsx)(b.a,{h:"1rem"})]}),Object(q.jsxs)(Se.a,{isRequired:!0,children:[Object(q.jsx)(ke.a,{children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),Object(q.jsxs)(Z.a,{children:[Object(q.jsx)($.a,Object(ve.a)({placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",size:"lg",type:r?"text":"password",borderRadius:"0"},i("password",{required:!0}))),Object(q.jsx)(J.b,{my:1,onClick:function(){return c(!r)},children:r?Object(q.jsx)(X.a,{}):Object(q.jsx)(X.b,{})})]}),o.password?Object(q.jsx)(O.a,{fontSize:"xs",color:"red.500",children:"\u203b\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u5fc5\u9808\u3067\u3059\u3002"}):Object(q.jsx)(b.a,{h:"1rem"})]})]}),Object(q.jsx)(me.a,{mt:"3",bg:"#406B15",color:"white",type:"submit",borderRadius:"0",_hover:{opacity:.8},isFullWidth:!0,children:"\u30ed\u30b0\u30a4\u30f3"})]})})),Ee=Object(n.memo)((function(){return Object(q.jsx)(d.a,{w:"80%",align:"center",justify:"center",children:Object(q.jsxs)(b.a,{w:"600px",border:"1px",borderColor:"gray.200",p:"4",children:[Object(q.jsx)(fe.a,{children:Object(q.jsx)(se.a,{as:"h1",size:"lg",my:"4",children:"\u30ed\u30b0\u30a4\u30f3"})}),Object(q.jsxs)(b.a,{mx:"10",children:[Object(q.jsx)(Ae,{}),Object(q.jsx)(pe,{}),Object(q.jsx)(ye,{}),Object(q.jsx)(ge,{})]})]})})})),Pe=Object(n.memo)((function(){var e=Object(n.useState)(!1),t=Object(H.a)(e,2),r=t[0],c=t[1],s=Object(n.useState)(!1),o=Object(H.a)(s,2),i=o[0],l=o[1],j=Object(Ce.a)(),u=j.formState.errors,d=j.register,h=j.handleSubmit,x=M().showMessage,f=Object(a.d)();return Object(q.jsxs)("form",{onSubmit:h((function(e){var t,r=e.userName,n=e.email,a=e.password;a===e.passwordConf?f((t={username:r,email:n,password:a,showMessage:x},function(){var e=Object(C.a)(k.a.mark((function e(r,n){var a,c,s,o,i,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n(),c=a.users.isSignedIn,s=t.username,o=t.email,i=t.password,l=t.showMessage,c){e.next=6;break}return e.next=6,z.createUserWithEmailAndPassword(o,i).then(function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null===(n=t.user)||void 0===n?void 0:n.uid,e.next=3,E.a.post("".concat(W,"/users"),{uid:a}).then(Object(C.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=t.user)||void 0===n?void 0:n.updateProfile({displayName:s}).then((function(){var e;null===(e=t.user)||void 0===e||e.providerData.forEach((function(e){var t,n,a=(null===e||void 0===e||null===(t=e.displayName)||void 0===t?void 0:t.length)?(null===e||void 0===e||null===(n=e.displayName)||void 0===n?void 0:n.length)%6:0;r(R({id:null===e||void 0===e?void 0:e.uid,username:null===e||void 0===e?void 0:e.displayName,email:null===e||void 0===e?void 0:e.email,avatar:Object(D.genConfig)(B[a])}))})),r(Object(p.d)("/")),l({title:"\u6b63\u5e38\u306b\u767b\u9332\u3067\u304d\u307e\u3057\u305f\u3002",status:"success"})})).catch((function(){l({title:"\u4e0d\u660e\u306a\u30a8\u30e9\u30fc\u3067\u3059\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",status:"error"})}));case 2:case"end":return e.stop()}}),e)})))).catch(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=z.currentUser)||void 0===t?void 0:t.delete();case 2:l({title:"\u30e6\u30fc\u30b6\u30fc\u306e\u4fdd\u5b58\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",status:"error"});case 3:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){"auth/email-already-in-use"===e.code?l({title:"\u3053\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u65e2\u306b\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002",status:"error"}):"auth/weak-password"===e.code?l({title:"\u30d1\u30b9\u30ef\u30fc\u30c9\u306f6\u6587\u5b57\u4ee5\u4e0a\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",status:"error"}):l({title:"\u4e0d\u660e\u306a\u30a8\u30e9\u30fc\u3067\u3059\u3002\u3082\u3046\u4e00\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002",status:"error"})}));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())):x({title:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u78ba\u8a8d\u7528\uff09\u304c\u7570\u306a\u308a\u307e\u3059\u3002",status:"error"})})),children:[Object(q.jsxs)(we.a,{children:[Object(q.jsxs)(Se.a,{isRequired:!0,children:[Object(q.jsx)(ke.a,{children:"\u30e6\u30fc\u30b6\u30fc\u540d"}),Object(q.jsx)($.a,Object(ve.a)({placeholder:"\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",size:"lg",borderRadius:"0"},d("userName",{required:!0}))),u.userName?Object(q.jsx)(O.a,{fontSize:"xs",color:"red.500",children:"\u203b\u30e6\u30fc\u30b6\u30fc\u540d\u306f\u5fc5\u9808\u3067\u3059\u3002"}):Object(q.jsx)(b.a,{h:"1rem"})]}),Object(q.jsxs)(Se.a,{isRequired:!0,children:[Object(q.jsx)(ke.a,{children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),Object(q.jsx)($.a,Object(ve.a)({placeholder:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",size:"lg",borderRadius:"0"},d("email",{required:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u5fc5\u9808\u3067\u3059\u3002",pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}}))),u.email&&"required"===u.email.type?Object(q.jsx)(O.a,{fontSize:"xs",color:"red.500",children:"\u203b\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u306f\u5fc5\u9808\u3067\u3059\u3002"}):u.email&&"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"===u.email.message?Object(q.jsx)(O.a,{fontSize:"xs",color:"red.500",children:"\u203b\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}):Object(q.jsx)(b.a,{h:"1rem"})]}),Object(q.jsxs)(Se.a,{isRequired:!0,children:[Object(q.jsx)(ke.a,{children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),Object(q.jsxs)(Z.a,{children:[Object(q.jsx)($.a,Object(ve.a)({placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",size:"lg",type:r?"text":"password",borderRadius:"0"},d("password",{required:!0}))),Object(q.jsx)(J.b,{my:1,onClick:function(){return c(!r)},children:r?Object(q.jsx)(X.a,{}):Object(q.jsx)(X.b,{})})]}),u.password?Object(q.jsx)(O.a,{fontSize:"xs",color:"red.500",children:"\u203b\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u5fc5\u9808\u3067\u3059\u3002"}):Object(q.jsx)(b.a,{h:"1rem"})]}),Object(q.jsxs)(Se.a,{isRequired:!0,children:[Object(q.jsx)(ke.a,{children:"\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u78ba\u8a8d\u7528\uff09"}),Object(q.jsxs)(Z.a,{children:[Object(q.jsx)($.a,Object(ve.a)({placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u78ba\u8a8d\u7528\uff09\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",size:"lg",type:i?"text":"password",borderRadius:"0"},d("passwordConf",{required:!0}))),Object(q.jsx)(J.b,{my:1,onClick:function(){return l(!i)},children:i?Object(q.jsx)(X.a,{}):Object(q.jsx)(X.b,{})})]}),u.passwordConf?Object(q.jsx)(O.a,{fontSize:"xs",color:"red.500",children:"\u203b\u30d1\u30b9\u30ef\u30fc\u30c9\uff08\u78ba\u8a8d\u7528\uff09\u306f\u5fc5\u9808\u3067\u3059\u3002"}):Object(q.jsx)(b.a,{h:"1rem"})]})]}),Object(q.jsx)(me.a,{mt:"3",bg:"#406B15",color:"white",type:"submit",borderRadius:"0",_hover:{opacity:.8},isFullWidth:!0,children:"\u767b\u9332"})]})})),ze=function(){return Object(q.jsx)(d.a,{w:"80%",align:"center",justify:"center",children:Object(q.jsxs)(b.a,{w:"600px",border:"1px",borderColor:"gray.200",p:"4",children:[Object(q.jsx)(fe.a,{children:Object(q.jsx)(se.a,{as:"h1",size:"lg",my:"4",children:"\u65b0\u898f\u767b\u9332"})}),Object(q.jsxs)(b.a,{mx:"10",children:[Object(q.jsx)(Pe,{}),Object(q.jsx)(pe,{}),Object(q.jsx)(ye,{}),Object(q.jsx)(ge,{})]})]})})},Fe=Object(n.memo)((function(){var e,t=Object(n.useState)([]),r=Object(H.a)(t,2),c=r[0],s=r[1],o=Object(a.e)((function(e){return e})),i=y(o),l=w(o),j=null===(e=z.currentUser)||void 0===e?void 0:e.uid;return Object(n.useEffect)((function(){E.a.post("".concat(W,"/picks/users"),{uid:j}).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[j]),Object(q.jsxs)(d.a,{w:"80%",align:"center",children:[Object(q.jsxs)(b.a,{w:"30%",position:"fixed",children:[Object(q.jsx)(I.a,Object(ve.a)(Object(ve.a)({},l),{},{style:{width:"12rem",height:"12rem"},shape:"rounded"})),Object(q.jsx)(se.a,{as:"h1",fontSize:"lg",mt:"2",children:i}),Object(q.jsxs)(O.a,{color:"gray.500",children:["ID\uff1a",j]})]}),Object(q.jsxs)(b.a,{ml:"30%",my:"12",children:[Object(q.jsx)(se.a,{as:"h1",fontSize:"2xl",children:"Pick\u3057\u305f\u8ad6\u6587\u4e00\u89a7"}),c.length?Object(q.jsx)(b.a,{mt:"8",w:"100%",children:c.map((function(e,t){return Object(q.jsxs)(b.a,{px:"5",py:"3",style:t%2===0?{backgroundColor:"#FAFAFA"}:{background:"#EAEAEA"},children:[Object(q.jsx)(h.a,{fontSize:"lg",fontWeight:"bold",color:"#0055AA",href:e.url,isExternal:!0,children:e.title}),Object(q.jsx)(O.a,{fontSize:"sm",mt:"1",mw:"100%",children:e.abstract}),Object(q.jsxs)(O.a,{fontSize:"xs",color:"#406B15",children:[e.writer,"\u30fb",e.year,"\u30fb",e.publisher]}),Object(q.jsx)(O.a,{fontSize:"xs",mt:1,children:Object(q.jsxs)(d.a,{align:"center",children:[Object(q.jsxs)(O.a,{children:["\u5f15\u7528\u6570: ",e.citations]}),Object(q.jsx)(h.a,{href:"//twitter.com/share",className:"twitter-share-button","data-text":e.title,"data-hashtags":"PaperPicks","data-url":e.url,"data-lang":"ja",mx:3,children:"\u30c4\u30a4\u30fc\u30c8"})]})})]},t)}))}):Object(q.jsx)(b.a,{mt:"8",w:"100%",children:Object(q.jsx)(O.a,{fontWeight:"bold",children:"Pick\u3057\u305f\u8ad6\u6587\u304c\u3042\u308a\u307e\u305b\u3093"})})]})]})})),Re=Object(n.memo)((function(){var e,t=Object(a.e)((function(e){return e})),r=v(t),n=null===(e=z.currentUser)||void 0===e?void 0:e.uid,c=Object(G.e)();return Object(q.jsxs)(d.a,{w:"80%",align:"center",justify:"center",children:[r&&c.pathname==="/users/".concat(n)&&Object(q.jsx)(Fe,{}),r&&c.pathname!=="/users/".concat(n)&&Object(q.jsx)(O.a,{fontWeight:"bold",children:"\u81ea\u8eab\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u30da\u30fc\u30b8\u3057\u304b\u95b2\u89a7\u3067\u304d\u307e\u305b\u3093"}),r||Object(q.jsx)(O.a,{fontWeight:"bold",children:"\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044"})]})})),_e=r(121),We=Object(n.memo)((function(){var e=Object(n.useState)(""),t=Object(H.a)(e,2),r=t[0],a=t[1],c=Object(G.e)().pathname;Object(n.useEffect)((function(){switch(c){case"/":a("");break;case"/sign_up":a("\u65b0\u898f\u767b\u9332");break;case"/sign_in":a("\u30ed\u30b0\u30a4\u30f3");break;case c.startsWith("/users/")&&c:a("\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb");break;default:a("\u304a\u63a2\u3057\u306e\u30da\u30fc\u30b8\u306f\u5b58\u5728\u3057\u307e\u305b\u3093")}}),[c]);var s=r?"".concat(r," | PaperPicks"):"PaperPicks";return Object(q.jsx)(_e.a,{title:s})})),Be=Object(n.memo)((function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(We,{}),Object(q.jsxs)(G.c,{children:[Object(q.jsx)(G.a,{exact:!0,path:"/",component:Oe}),Object(q.jsx)(G.a,{exact:!0,path:"/sign_up",component:ze}),Object(q.jsx)(G.a,{exact:!0,path:"/sign_in",component:Ee}),Object(q.jsx)(G.a,{path:"/users/:id",component:Re}),Object(q.jsx)(G.a,{path:"/*",component:K})]})]})}));var De=function(){return Object(q.jsx)(l.a,{theme:u,children:Object(q.jsx)(T,{children:Object(q.jsx)(Be,{})})})},Ie=r(90),Ne=r(114),Me=r(123),qe={users:{isSignedIn:!1,id:"",username:"",email:"",password:"",avatar:[]},searchPapers:{word:"",result:[],recentResult:[],recentPicks:[],favoriteResult:[],favoritePicks:[]},boolean:{boolean:!0}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe.users,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:case _:return Object(ve.a)(Object(ve.a)({},e),t.payload);default:return e}},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe.searchPapers,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:case te:return Object(ve.a)(Object(ve.a)({},e),t.payload);case ee:return Object(ve.a)({},t.payload);default:return e}},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe.boolean,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(ve.a)(Object(ve.a)({},e),t.payload);default:return e}};var Ke,Le=i.a(),He=(Ke=Le,Object(Ie.c)(Object(Ie.b)({router:Object(o.b)(Ke),users:Ue,search:Te,boolean:Ge}),Object(Ie.a)(Object(Ne.a)(Ke),Me.a)));s.a.render(Object(q.jsx)(a.a,{store:He,children:Object(q.jsx)(o.a,{history:Le,children:Object(q.jsx)(De,{})})}),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.c45e410c.chunk.js.map